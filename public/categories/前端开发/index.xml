<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>å‰ç«¯å¼€å‘ on é™ˆä¸‰</title>
    <link>https://www.zfanw.com/blog/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/</link>
    <description>Recent content in å‰ç«¯å¼€å‘ on é™ˆä¸‰</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Fri, 08 Jul 2016 05:32:04 +0000</lastBuildDate>
    <atom:link href="https://www.zfanw.com/blog/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>å†è°ˆæµè§ˆå™¨ç¼“å­˜</title>
      <link>https://www.zfanw.com/blog/browser-cache.html</link>
      <pubDate>Fri, 08 Jul 2016 05:32:04 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/browser-cache.html</guid>
      <description>

&lt;p&gt;ä¸€ä¸ªé¡µé¢ä¸Šçš„èµ„æºï¼Œå¯ä»¥ç®€å•åˆ†ä¸ºä¸¤ç§ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;url å¯å˜ï¼Œæ¯”å¦‚è¿™ä¸ªé¡µé¢ä¸Šçš„ css æ–‡ä»¶ï¼Œè¿™æ¬¡å¯èƒ½æ˜¯ app.fe5a24f8ae.cssï¼Œä¸‹æ¬¡å¯èƒ½æ˜¯ app.613e5f58f1.css&lt;/li&gt;
&lt;li&gt;url ä¸å¯èƒ½å˜ï¼Œæ¯”å¦‚è¿™ä¸ªé¡µé¢çš„ url&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;é’ˆå¯¹å®ƒä»¬ï¼Œæˆ‘ä»¬çš„ç¼“å­˜æ–¹å¼å¯ä»¥ä¸åŒã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ç¬¬ä¸€ç§ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è®¾ç½®å“åº”å¤´ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Cache-Control max-age=31536000, must-revalidate&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¡¨ç¤ºè¿™ä¸ªèµ„æºä¸€å¹´å†…éƒ½æœ‰æ•ˆï¼Œè¿‡æœŸçš„è¯æ‰è¦åˆ°æœåŠ¡å™¨ä¸ŠéªŒè¯ã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•ä¿è¯èµ„æºä¿®æ”¹åèƒ½åŠæ—¶æ›´æ–°åˆ°ç”¨æˆ·ç«¯ï¼Ÿä¿®æ”¹ url å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;è€Œé’ˆå¯¹ç¬¬äºŒç§ï¼Œå› ä¸º url æ— æ³•æ”¹å˜ï¼Œæˆ‘ä»¬å°±éœ€è¦å¦å¤–çš„æ–¹å¼ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Cache-Control no-cache&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;code&gt;no-cache&lt;/code&gt; ä¸æ˜¯è¡¨ç¤ºä¸èƒ½ç¼“å­˜ï¼Œè€Œæ˜¯è¯´æ¯æ¬¡æµè§ˆå™¨éƒ½è¦è·ŸæœåŠ¡å™¨åšä¸ªç¡®è®¤ &amp;#8211; é€šè¿‡ &lt;code&gt;ETag&lt;/code&gt; æˆ– &lt;code&gt;Last-Modified&lt;/code&gt;ï¼Œè¿™æ ·å°±ä¼šå¤šå‡ºä¸€ä¸ªè¯·æ±‚ ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ‰©å±•é˜…è¯»&#34;&gt;æ‰©å±•é˜…è¯»&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://jakearchibald.com/2016/caching-best-practices/&#34;&gt;Caching best practices &amp;amp; max-age gotchas &amp;#8211; JakeArchibald.com&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>peerDependencies</title>
      <link>https://www.zfanw.com/blog/peerdependencies.html</link>
      <pubDate>Thu, 30 Jun 2016 06:32:13 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/peerdependencies.html</guid>
      <description>&lt;p&gt;å†™ npm package æ—¶ï¼Œæ¥è§¦æœ€å¤šçš„ï¼Œå½“å± &lt;a href=&#34;https://www.zfanw.com/blog/difference-between-dependencies-and-devdependencies.html&#34;&gt;dependencies ä¸ devDependencies&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä¸€ä¸ªåŒ…å®šä¹‰äº† &lt;code&gt;dependencies&lt;/code&gt; ä¸ &lt;code&gt;devDependencies&lt;/code&gt;ï¼Œåˆ™æˆ‘ä»¬åœ¨å®‰è£…è¿™ä¸ªåŒ…æ—¶ï¼Œä¼šè¿ç€å®ƒçš„ä¾èµ–ä»¬ä¸€åŒå®‰è£…ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ä¸€ä¸ª react-native çš„åŒ…ï¼Œå®ƒä¾èµ–äº &lt;code&gt;react&lt;/code&gt; ä¸ &lt;code&gt;react-native&lt;/code&gt;ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ &lt;code&gt;react&lt;/code&gt; åŠ &lt;code&gt;react-native&lt;/code&gt; å®šä¹‰åœ¨ &lt;code&gt;dependencies&lt;/code&gt; ä¸‹ï¼Œåˆ™å®‰è£…å®Œè¿™ä¸ªåŒ…åï¼Œå®ƒçš„ç›®å½•ç»“æ„æ˜¯è¿™æ ·ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ProjectRoot/node_modules/package_name/node_modules/react&lt;/li&gt;
&lt;li&gt;ProjectRoot/node_modules/package_name/node_modules/react-native&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æˆ‘ä»¬åˆä¸‹è½½äº†ä¸€é react ä¸ react-nativeï¼Œè¿™æ˜¾å¾—å¤šä½™ï¼Œå¯èƒ½è¿˜ä¼šå¯¼è‡´å†²çªé—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ &lt;a href=&#34;https://nodejs.org/en/blog/npm/peer-dependencies/&#34;&gt;&lt;code&gt;peerDependencies&lt;/code&gt;&lt;/a&gt;ï¼Œé€šè¿‡å®ƒï¼Œæˆ‘ä»¬èƒ½å¤Ÿå£°æ˜ç¬¬ä¸‰æ–¹åŒ…æ­£å¸¸è¿è¡Œçš„ç¯å¢ƒ &amp;#8211; è¦å®‰è£…æˆ‘ï¼Œä½ çš„ç¯å¢ƒè¯¥æ˜¯å¦‚ä½•ï¼Œå¦åˆ™å°†æ— æ³•è¿è¡Œã€‚å½“ç„¶ï¼Œæ²¡äººä¼šæ— èŠåˆ°åœ¨ä¸€ä¸ª ember.js é¡¹ç›®ä¸­å®‰è£…ä¸€ä¸ª react-native çš„ç¬¬ä¸‰æ–¹åŒ…ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>react-native æ»‘åŠ¨åˆ é™¤</title>
      <link>https://www.zfanw.com/blog/react-native-swipeable-listview.html</link>
      <pubDate>Tue, 28 Jun 2016 10:41:27 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/react-native-swipeable-listview.html</guid>
      <description>&lt;p&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;ï¼šæœ¬æ–‡åŸºäº react-native 0.29.0-rc.0ï¼Œä»…é’ˆå¯¹ iOS å¹³å°ã€‚&lt;/p&gt;

&lt;p&gt;iOS ä¸‹çš„åˆ—è¡¨ï¼Œé€šå¸¸éƒ½å¯ä»¥å¾€å·¦æ»‘åŠ¨ï¼Œæ˜¾ç¤ºå¿«æ·èœå• &amp;#8211; æ¯”å¦‚åˆ é™¤ã€‚&lt;/p&gt;

&lt;p&gt;åªæ˜¯ react-native ä¸‹çš„ ListView ä¸å…·å¤‡è¿™ç§åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;p&gt;ä½†å®é™…ä¸Šï¼Œreact-native å®˜æ–¹åº“é‡Œï¼Œå°±æœ‰ä¸€ä¸ª &lt;a href=&#34;https://github.com/facebook/react-native/tree/master/Libraries/Experimental/SwipeableRow&#34;&gt;SwipeableListView&lt;/a&gt;ï¼Œåªä¸è¿‡æ˜¯æ”¾åœ¨ &lt;code&gt;Experimental&lt;/code&gt; ç›®å½•ä¸‹ï¼Œè¡¨ç¤ºè¿˜ä¸æˆç†Ÿ &amp;#8211; ç›®å‰ä¹Ÿæ˜¯æ²¡æœ‰æ–‡æ¡£çš„ï¼Œåªèƒ½è‡ªå·±é˜…è¯»æºä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å®ç”¨æ³•éå¸¸ç®€å•ï¼Œå¤§éƒ¨åˆ†è·Ÿ ListView æ˜¯ä¸€è‡´çš„ï¼Œåªæ˜¯å¤šäº†äº› propã€‚&lt;/p&gt;

&lt;p&gt;æ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #ffffff&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #A90D91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;React&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;react&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color: #A90D91&#34;&gt;import&lt;/span&gt; { &lt;span style=&#34;color: #000000&#34;&gt;ScrollView&lt;/span&gt;, &lt;span style=&#34;color: #000000&#34;&gt;View&lt;/span&gt;, &lt;span style=&#34;color: #000000&#34;&gt;TouchableHighlight&lt;/span&gt;, &lt;span style=&#34;color: #000000&#34;&gt;Text&lt;/span&gt;, &lt;span style=&#34;color: #000000&#34;&gt;SwipeableListView&lt;/span&gt; } &lt;span style=&#34;color: #000000&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;react-native&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color: #A90D91&#34;&gt;import&lt;/span&gt; { &lt;span style=&#34;color: #000000&#34;&gt;connect&lt;/span&gt; } &lt;span style=&#34;color: #000000&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;react-redux&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color: #A90D91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;styles&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;./styles&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color: #A90D91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;formatListViewDataSource&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;../../utils/formatListViewDataSource&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color: #A90D91&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;WantHome&lt;/span&gt; &lt;span style=&#34;color: #A90D91&#34;&gt;extends&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;React&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;Component&lt;/span&gt; {
  &lt;span style=&#34;color: #000000&#34;&gt;componentDidMount&lt;/span&gt; () {
    &lt;span style=&#34;color: #A90D91&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;props&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;dispatch&lt;/span&gt;({
      &lt;span style=&#34;color: #000000&#34;&gt;type:&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;USER_ENTERED_WANT_HOME&amp;#39;&lt;/span&gt;
    })
  }
  &lt;span style=&#34;color: #000000&#34;&gt;render&lt;/span&gt; () {
    &lt;span style=&#34;color: #A90D91&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;ds&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;SwipeableListView&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;getNewDataSource&lt;/span&gt;()
    &lt;span style=&#34;color: #A90D91&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;obj&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;formatListViewDataSource&lt;/span&gt;(&lt;span style=&#34;color: #A90D91&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;props&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;want&lt;/span&gt;)
    &lt;span style=&#34;color: #000000&#34;&gt;ds&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;ds&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;cloneWithRowsAndSections&lt;/span&gt;(...&lt;span style=&#34;color: #000000&#34;&gt;obj&lt;/span&gt;)
    &lt;span style=&#34;color: #A90D91&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color: #000000&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color: #A90D91&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;props&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;want&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;length&lt;/span&gt;) {
      &lt;span style=&#34;color: #A90D91&#34;&gt;return&lt;/span&gt; (
        &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;View&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;style=&lt;/span&gt;{[&lt;span style=&#34;color: #000000&#34;&gt;styles&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;container&lt;/span&gt;, &lt;span style=&#34;color: #000000&#34;&gt;styles&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;center&lt;/span&gt;]}&lt;span style=&#34;color: #000000&#34;&gt;&amp;gt;&lt;/span&gt;
          &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;Text&amp;gt;æš‚æ— å†…å®¹ï¼Œè¯·ç‚¹å‡»å³ä¸Šè§’æŒ‰é’®æ·»åŠ &amp;lt;/Text&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;/View&amp;gt;&lt;/span&gt;
      )
    } &lt;span style=&#34;color: #A90D91&#34;&gt;else&lt;/span&gt; {
      &lt;span style=&#34;color: #A90D91&#34;&gt;return&lt;/span&gt; (
        &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;ScrollView&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;style=&lt;/span&gt;{[&lt;span style=&#34;color: #000000&#34;&gt;styles&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;body&lt;/span&gt;]}&lt;span style=&#34;color: #000000&#34;&gt;&amp;gt;&lt;/span&gt;
          &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;SwipeableListView&lt;/span&gt;
            &lt;span style=&#34;color: #000000&#34;&gt;bounceFirstRowOnMount&lt;/span&gt;
            &lt;span style=&#34;color: #000000&#34;&gt;maxSwipeDistance=&lt;/span&gt;{&lt;span style=&#34;color: #1C01CE&#34;&gt;100&lt;/span&gt;}
            &lt;span style=&#34;color: #000000&#34;&gt;dataSource=&lt;/span&gt;{&lt;span style=&#34;color: #000000&#34;&gt;ds&lt;/span&gt;}
            &lt;span style=&#34;color: #000000&#34;&gt;renderQuickActions=&lt;/span&gt;{(&lt;span style=&#34;color: #000000&#34;&gt;rowData&lt;/span&gt;, &lt;span style=&#34;color: #000000&#34;&gt;sectionID&lt;/span&gt;, &lt;span style=&#34;color: #000000&#34;&gt;rowID&lt;/span&gt;) &lt;span style=&#34;color: #000000&#34;&gt;=&amp;gt;&lt;/span&gt; {
              &lt;span style=&#34;color: #A90D91&#34;&gt;return&lt;/span&gt; (
                &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;View&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;style=&lt;/span&gt;{{
                  &lt;span style=&#34;color: #000000&#34;&gt;flex:&lt;/span&gt; &lt;span style=&#34;color: #1C01CE&#34;&gt;1&lt;/span&gt;,
                  &lt;span style=&#34;color: #000000&#34;&gt;flexDirection:&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;row&amp;#39;&lt;/span&gt;,
                  &lt;span style=&#34;color: #000000&#34;&gt;justifyContent:&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;flex-end&amp;#39;&lt;/span&gt;,
                  &lt;span style=&#34;color: #000000&#34;&gt;alignItems:&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;center&amp;#39;&lt;/span&gt;
                }}&lt;span style=&#34;color: #000000&#34;&gt;&amp;gt;&lt;/span&gt;
                  &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;TouchableHighlight&lt;/span&gt;
                    &lt;span style=&#34;color: #000000&#34;&gt;onPress=&lt;/span&gt;{() &lt;span style=&#34;color: #000000&#34;&gt;=&amp;gt;&lt;/span&gt; {
                      &lt;span style=&#34;color: #000000&#34;&gt;alert&lt;/span&gt;(&lt;span style=&#34;color: #1C01CE&#34;&gt;1&lt;/span&gt;)
                    }}&lt;span style=&#34;color: #000000&#34;&gt;&amp;gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;View&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;style=&lt;/span&gt;{{
                      &lt;span style=&#34;color: #000000&#34;&gt;backgroundColor:&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;red&amp;#39;&lt;/span&gt;,
                      &lt;span style=&#34;color: #000000&#34;&gt;flex:&lt;/span&gt; &lt;span style=&#34;color: #1C01CE&#34;&gt;1&lt;/span&gt;,
                      &lt;span style=&#34;color: #000000&#34;&gt;alignItems:&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;center&amp;#39;&lt;/span&gt;,
                      &lt;span style=&#34;color: #000000&#34;&gt;flexDirection:&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;row&amp;#39;&lt;/span&gt;,
                      &lt;span style=&#34;color: #000000&#34;&gt;paddingHorizontal:&lt;/span&gt; &lt;span style=&#34;color: #1C01CE&#34;&gt;10&lt;/span&gt;
                    }}&lt;span style=&#34;color: #000000&#34;&gt;&amp;gt;&lt;/span&gt;
                      &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;Text&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;style=&lt;/span&gt;{{
                        &lt;span style=&#34;color: #000000&#34;&gt;color:&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;white&amp;#39;&lt;/span&gt;,
                        &lt;span style=&#34;color: #000000&#34;&gt;fontSize:&lt;/span&gt; &lt;span style=&#34;color: #1C01CE&#34;&gt;16&lt;/span&gt;
                      }}&lt;span style=&#34;color: #000000&#34;&gt;&amp;gt;åˆ é™¤&amp;lt;/Text&amp;gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;/View&amp;gt;&lt;/span&gt;
                  &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;/TouchableHighlight&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;/View&amp;gt;&lt;/span&gt;
              )
            }}
            &lt;span style=&#34;color: #000000&#34;&gt;renderRow=&lt;/span&gt;{(&lt;span style=&#34;color: #000000&#34;&gt;rowData&lt;/span&gt;) &lt;span style=&#34;color: #000000&#34;&gt;=&amp;gt;&lt;/span&gt; {
              &lt;span style=&#34;color: #A90D91&#34;&gt;return&lt;/span&gt; (
                &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;View&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;style=&lt;/span&gt;{{
                  &lt;span style=&#34;color: #000000&#34;&gt;paddingVertical:&lt;/span&gt; &lt;span style=&#34;color: #1C01CE&#34;&gt;10&lt;/span&gt;,
                  &lt;span style=&#34;color: #000000&#34;&gt;backgroundColor:&lt;/span&gt; &lt;span style=&#34;color: #C41A16&#34;&gt;&amp;#39;#fff&amp;#39;&lt;/span&gt;
                }}&lt;span style=&#34;color: #000000&#34;&gt;&amp;gt;&lt;/span&gt;
                  &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;Text&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;style=&lt;/span&gt;{{
                    &lt;span style=&#34;color: #000000&#34;&gt;fontSize:&lt;/span&gt; &lt;span style=&#34;color: #1C01CE&#34;&gt;16&lt;/span&gt;
                  }}&lt;span style=&#34;color: #000000&#34;&gt;&amp;gt;&lt;/span&gt;
                    {&lt;span style=&#34;color: #000000&#34;&gt;rowData&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;text&lt;/span&gt;}
                  &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;/Text&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;/View&amp;gt;&lt;/span&gt;
              )
            }}
          &lt;span style=&#34;color: #000000&#34;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color: #000000&#34;&gt;&amp;lt;/ScrollView&amp;gt;&lt;/span&gt;
      )
    }
  }
}
&lt;span style=&#34;color: #A90D91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;mapStateToProps&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color: #000000&#34;&gt;state&lt;/span&gt;) &lt;span style=&#34;color: #000000&#34;&gt;=&amp;gt;&lt;/span&gt; ({
  &lt;span style=&#34;color: #000000&#34;&gt;want:&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;state&lt;/span&gt;.&lt;span style=&#34;color: #000000&#34;&gt;want&lt;/span&gt;
})
&lt;span style=&#34;color: #A90D91&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color: #A90D91&#34;&gt;default&lt;/span&gt; &lt;span style=&#34;color: #000000&#34;&gt;connect&lt;/span&gt;(&lt;span style=&#34;color: #000000&#34;&gt;mapStateToProps&lt;/span&gt;)(&lt;span style=&#34;color: #000000&#34;&gt;WantHome&lt;/span&gt;)
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œæœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„å±æ€§å€¼ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;dataSource&lt;/code&gt; &amp;#8211; æˆ‘ä»¬è¦æ¸²æŸ“çš„æ•°æ®åˆ—è¡¨ã€‚&lt;/p&gt;

&lt;p&gt;é€šå¸¸æˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªæ•°ç»„ï¼Œæ¯”å¦‚ &lt;code&gt;[&#39;å’¸é¥­&#39;, &#39;ç²¥&#39;]&lt;/code&gt;ï¼Œæ•°æ®éœ€è¦å¤„ç†æˆ &lt;code&gt;SwipeableListView&lt;/code&gt; éœ€è¦çš„æ ¼å¼ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{
&#39;s1&#39;: &#39;æ ‡é¢˜&#39;,
&#39;r1&#39;: &#39;å’¸é¥­&#39;,
&#39;r2&#39;: &#39;ç²¥&#39;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¹Ÿæ˜¯ä¸Šé¢ä»£ç ä¸­ &lt;code&gt;formatListViewDataSource&lt;/code&gt; å‡½æ•°èµ·åˆ°çš„ä½œç”¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/**
* @function formatListViewDataSource format data for ListView of react-native
* @param {Array} data - data to be formatted
* @return {Array}
* @example
*   let ds = formatListViewDataSource([1, 2, 3])
*   xxx.cloneWithRowsAndSections(...ds)
*/
export default function formatListViewDataSource (data) {
if (!Array.isArray(data)) {
throw new Error(&#39;function only accept Array&#39;)
}
var dataBlob = {}
var sectionIDs = [&#39;s1&#39;]
var rowIDs = [[]]
data.forEach(function (element, index) {
dataBlob[&#39;r&#39; + index] = {id: &#39;r&#39; + index, text: element}
rowIDs[0].push(&#39;r&#39; + index)
})
dataBlob[&#39;s1&#39;] = &#39;&#39;
return [
dataBlob,
sectionIDs,
rowIDs
]
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;maxSwipeDistance&lt;/code&gt; &amp;#8211; è¡¨ç¤ºæ»‘åŠ¨çš„æœ€å¤§è·ç¦»ï¼Œå¿…é¡»è®¾ç½®ï¼Œå¦åˆ™é»˜è®¤ä¸º 0&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;renderQuickActions&lt;/code&gt; &amp;#8211; è¿™å°±æ˜¯æˆ‘ä»¬æ»‘åŠ¨åæ˜¾ç¤ºçš„å¿«æ·åŠ¨ä½œäº†&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ•ˆæœå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/react-native-swipeablelist.gif&#34;&gt;&lt;img src=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/react-native-swipeablelist.gif&#34; alt=&#34;react native swipeableListView&#34; width=&#34;372&#34; class=&#34;alignnone size-full wp-image-18623&#34; /&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>react-native Navigation Experimental æ€ä¹ˆç”¨</title>
      <link>https://www.zfanw.com/blog/react-native-navigator-experimental-usage.html</link>
      <pubDate>Wed, 22 Jun 2016 06:50:48 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/react-native-navigator-experimental-usage.html</guid>
      <description>&lt;p&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;ï¼šæœ¬æ–‡åŸºäº react-native 0.29.0-rc.0ï¼Œä»…é’ˆå¯¹ iOS å¹³å°ã€‚&lt;/p&gt;

&lt;p&gt;react-native çš„ navigation experimental æ˜¯ &lt;a href=&#34;https://facebook.github.io/react-native/docs/navigator.html&#34;&gt;navigator&lt;/a&gt; çš„ç»§ä»»ï¼Œä½†å› ä¸ºè¿˜åœ¨å¼€å‘ä¸­ï¼Œç›®å‰æ²¡ä»€ä¹ˆæ–‡æ¡£ï¼ŒAPI ä¹Ÿç»å¸¸å˜åŠ¨ï¼Œç¤ºä¾‹æ²¡è·Ÿä¸Šï¼Œå°±è®©äººçœ‹ä¸æ‡‚ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ navigation experimental ä¸‹ï¼Œ&lt;a href=&#34;https://github.com/facebook/react-native/blob/master/Examples/UIExplorer/NavigationExperimental/NavigationCardStack-NavigationHeader-Tabs-example.js#L53&#34;&gt;è·¯ç”±åªæ˜¯äº›å¯¹è±¡&lt;/a&gt;ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function createAppNavigationState(): Object {
  return  {
    // Three tabs.
    tabs: {
      index: 0,
      routes: [
        {key: &#39;apple&#39;},
        {key: &#39;banana&#39;},
        {key: &#39;orange&#39;},
      ],
    },
    // Scenes for the `apple` tab.
    apple: {
      index: 0,
      routes: [{key: &#39;Apple Home&#39;}],
    },
    // Scenes for the `banana` tab.
    banana: {
      index: 0,
      routes: [{key: &#39;Banana Home&#39;}],
    },
    // Scenes for the `orange` tab.
    orange: {
      index: 0,
      routes: [{key: &#39;Orange Home&#39;}],
    },
  };
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„è·¯ç”±è¡¨ç¤º app æœ‰ä¸‰ä¸ªæ ‡ç­¾é¡µï¼Œæ¯ä¸ªæ ‡ç­¾é¡µå„æœ‰å„çš„å­è·¯ç”±ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬ä¸å¦¨æŠŠè·¯ç”±æƒ³æˆä¸€ä¸ªæ—è°±ï¼ˆfamily treeï¼‰ï¼Œå¾ªç€æ¯ä¸ªæ ‘æï¼Œæˆ‘ä»¬èƒ½æŠµè¾¾åˆ°å„ä¸ªé¡µé¢ã€‚è€Œ &lt;code&gt;index&lt;/code&gt; å°±æ˜¯æˆ‘ä»¬çš„æŒ‡è·¯ç‰Œã€‚æˆ‘ä»¬çš„é¡µé¢é—´çš„åˆ‡æ¢ï¼Œå°±æ˜¯&lt;a href=&#34;https://github.com/facebook/react-native/blob/master/Examples/UIExplorer/NavigationExperimental/NavigationCardStack-NavigationHeader-Tabs-example.js#L84&#34;&gt;ä¸€ä¸ª action ä¿®æ”¹ navigation state çš„å‰¯ä½œç”¨&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äº†è·¯ç”±æ•°æ®ï¼Œå°±å¯ä»¥æ¸²æŸ“å¯¹åº”çš„ scene äº†ï¼Œæ€ä¹ˆåšï¼Ÿ&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬æ¥å†™ä¸€ä¸ªç®€å•é¡µé¢ï¼Œå®ƒçš„è·¯ç”±æ•°æ®æ˜¯è¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{
  index: 0,
  routes: [{
    key: &#39;Want Home&#39;
  }]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬åªæœ‰ä¸€ä¸ªé¡µé¢ï¼Œ&lt;code&gt;index&lt;/code&gt; å€¼è¡¨ç¤ºè¿™ä¸ªé¡µé¢å¤„äºæ¿€æ´»çŠ¶æ€ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;é¡µé¢ç»„ä»¶å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&#39;use strict&#39;
import React from &#39;react&#39;
import { View, Text, NavigationExperimental } from &#39;react-native&#39;
const {
  CardStack: NavigationCardStack,
  Header: NavigationHeader,
  PropTypes: NavigationPropTypes,
  StateUtils: NavigationStateUtils,
} = NavigationExperimental
class Want extends React.Component {
  renderScene = (sceneProps) =&amp;gt; {
    return (
      &amp;lt;View style={{flex: 1, marginTop: 64}}&amp;gt;
        &amp;lt;Text&amp;gt;haha&amp;lt;/Text&amp;gt;
      &amp;lt;/View&amp;gt;
    )
  }
  render () {
    return (
      &amp;lt;NavigationCardStack
        direction=&#39;vertical&#39;
        navigationState={{
          index: 0,
          routes: [{
            key: &#39;Want Home&#39;
          }]
        }}
        renderScene={this.renderScene}
        /&amp;gt;
    )
  }
}
export default Want
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ·æ–° Simulatorï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ° &lt;code&gt;haha&lt;/code&gt; æ–‡æœ¬ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯ react-native 0.28 ç‰ˆæœ¬ï¼Œè¿˜ä¼šçœ‹åˆ°å¦‚ä¸‹çš„é”™è¯¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ExceptionsManager.js:70 Warning: Failed propType: Required prop &lt;code&gt;onNavigate&lt;/code&gt; was not specified in &lt;code&gt;NavigationCardStack&lt;/code&gt;. Check the render method of &lt;code&gt;Want&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è€Œåœ¨ 0.29 ä¸­ï¼Œ&lt;code&gt;onNavigate&lt;/code&gt; &lt;a href=&#34;https://github.com/facebook/react-native/commit/fb0007d85323909ab652bf97166744fa7e17daab&#34;&gt;è¢«ç§»é™¤äº†&lt;/a&gt;ï¼Œæ›´æ¢ä¸º &lt;code&gt;onNavigateBack&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæƒ³ç»™é¡µé¢å®šä¹‰ä¸ª navigationBarï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ª &lt;code&gt;renderOverlay&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  renderOverlay = (sceneProps) =&amp;gt; {
    return (
      &amp;lt;NavigationHeader
        {...sceneProps}
        renderTitleComponent={() =&amp;gt; (
          &amp;lt;NavigationHeader.Title&amp;gt;
            æƒ³åƒ
          &amp;lt;/NavigationHeader.Title&amp;gt;
        )}
        /&amp;gt;
    )
  }
  render () {
    return (
      &amp;lt;NavigationCardStack
        direction=&#39;vertical&#39;
        navigationState={{
          index: 0,
          routes: [{
            key: &#39;Want Home&#39;
          }]
        }}
        renderScene={this.renderScene}
        renderOverlay={this.renderOverlay}
        /&amp;gt;
    )
  }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ·æ–° simulatorï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°è¿™æ ·çš„ç•Œé¢ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-21-at-23.10.14.png&#34;&gt;&lt;img src=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-21-at-23.10.14.png&#34; alt=&#34;react native navigator experimental&#34; width=&#34;760&#34; class=&#34;alignnone size-full wp-image-18582&#34; srcset=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-21-at-23.10.14.png 760w, https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-21-at-23.10.14-300x105.png 300w, https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-21-at-23.10.14-100x35.png 100w&#34; sizes=&#34;(max-width: 760px) 100vw, 760px&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç›®å‰æˆ‘ä»¬è¿˜åªæœ‰ä¸€ä¸ªé¡µé¢ï¼Œæ²¡æœ‰è·¯ç”±åˆ‡æ¢ï¼Œä¹Ÿæ²¡æœ‰åŠ¨ç”»æ•ˆæœã€‚&lt;/p&gt;

&lt;p&gt;å‡å®šæˆ‘ä»¬ç‚¹å‡»äº† haha æ–‡æœ¬ä¼šè¿›å…¥è¯¦æƒ…é¡µé¢ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ç‚¹å‡»å‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬éœ€è¦è°ƒæ•´è·¯ç”±æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬è¦ç”¨åˆ° &lt;a href=&#34;https://github.com/reactjs/redux&#34;&gt;redux&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å…ˆåˆ›å»ºä¸€ä¸ª &lt;code&gt;navigation.js&lt;/code&gt; çš„ reducer æ–‡ä»¶ï¼ŒæŠŠä¸Šé¢çš„è·¯ç”±æ•°æ®è¿ç§»è¿‡æ¥ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import { PUSH_ROUTE, POP_ROUTE } from &#39;../actionTypes&#39;
import { NavigationExperimental } from &#39;react-native&#39;
const {StateUtils: NavigationStateUtils} = NavigationExperimental

const initialState = {
  index: 0,
  routes: [{
    key: &#39;Want Home&#39;
  }]
}

function navigationState (state = initialState, action) {
  switch (action.type) {
    case PUSH_ROUTE:
      if (state.routes[state.index].key === (action.route &amp;amp;&amp;amp; action.route.key)) return state
      return NavigationStateUtils.push(state, action.route)

    case POP_ROUTE:
      if (state.index === 0 || state.routes.length === 1) return state
      return NavigationStateUtils.pop(state)

    default:
      return state

  }
}

export default navigationState
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†æ·»åŠ ä¸€ä¸ª &lt;code&gt;navigation.js&lt;/code&gt; çš„ action æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import { PUSH_ROUTE, POP_ROUTE } from &#39;../actionTypes&#39;

export function push (route) {
  return {
    type: PUSH_ROUTE,
    route: route
  }
}

export function pop () {
  return {
    type: POP_ROUTE
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨ &lt;code&gt;Want&lt;/code&gt; ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ react-redux æä¾›çš„ &lt;code&gt;connect&lt;/code&gt; ç»‘å®š store é‡Œçš„æ•°æ®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&#39;use strict&#39;
import React from &#39;react&#39;
import { View, Text, NavigationExperimental, TouchableHighlight } from &#39;react-native&#39;
import { connect } from &#39;react-redux&#39;
import { push, pop } from &#39;../actions/navigation&#39;
const {
  CardStack: NavigationCardStack,
  Header: NavigationHeader,
  PropTypes: NavigationPropTypes,
  StateUtils: NavigationStateUtils,
} = NavigationExperimental
class Want extends React.Component {
  goDetail = () =&amp;gt; {
    this.props.dispatch(push({
      key: &#39;Want Detail&#39;
    }))
  }
  renderScene = (sceneProps) =&amp;gt; {
    // æˆ‘ä»¬åœ¨è¿™é‡Œé€šè¿‡ key æ¸²æŸ“ä¸åŒç»„ä»¶ï¼Œè¿™é‡Œåªæ˜¯ç®€å•å±•ç¤ºåŒä¸€ä¸ªç»„ä»¶
    return (
      &amp;lt;View style={{flex: 1, marginTop: 64}}&amp;gt;
        &amp;lt;TouchableHighlight onPress={this.goDetail}
          &amp;gt;&amp;lt;Text&amp;gt;haha&amp;lt;/Text&amp;gt;
        &amp;lt;/TouchableHighlight&amp;gt;
      &amp;lt;/View&amp;gt;
    )
  }
  renderOverlay = (sceneProps) =&amp;gt; {
    return (
      &amp;lt;NavigationHeader
        {...sceneProps}
        renderTitleComponent={() =&amp;gt; (
          &amp;lt;NavigationHeader.Title&amp;gt;
            æƒ³åƒ
          &amp;lt;/NavigationHeader.Title&amp;gt;
        )}
        /&amp;gt;
    )
  }
  render () {
    return (
      &amp;lt;NavigationCardStack
        direction=&#39;vertical&#39;
        navigationState={this.props.navigation}
        renderScene={this.renderScene}
        renderOverlay={this.renderOverlay}
        /&amp;gt;
    )
  }
}
const mapStateToProps = (state) =&amp;gt; ({
  navigation: state.navigation
})
export default connect(mapStateToProps)(Want)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ ·ï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªç®€é™‹çš„é¡µé¢åˆ‡æ¢ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/react-native-navigator.gif&#34;&gt;&lt;img src=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/react-native-navigator.gif&#34; alt=&#34;react-native-navigator&#34; width=&#34;372&#34; class=&#34;alignnone size-full wp-image-18588&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Chrome æ§åˆ¶å°ä¸­çš„ log å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-22-at-11.16.27.png&#34;&gt;&lt;img src=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-22-at-11.16.27.png&#34; alt=&#34;Screen Shot 2016-06-22 at 11.16.27&#34; width=&#34;1400&#34; class=&#34;alignnone size-full wp-image-18590&#34; srcset=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-22-at-11.16.27.png 1400w, https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-22-at-11.16.27-300x196.png 300w, https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-22-at-11.16.27-768x502.png 768w, https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-22-at-11.16.27-1024x670.png 1024w, https://www.zfanw.com/blog/wp-content/uploads/2016/06/Screen-Shot-2016-06-22-at-11.16.27-100x65.png 100w&#34; sizes=&#34;(max-width: 1400px) 100vw, 1400px&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šé¢çš„åŠ¨ç”»é‡Œå¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶æˆ‘ä»¬æ²¡æœ‰ç»™ &lt;code&gt;Want Detail&lt;/code&gt; æ·»åŠ è¿”å›é”®ï¼Œå®ƒé»˜è®¤å´æ˜¯å·²ç»æœ‰äº†ã€‚ä½†æ˜¯æˆ‘ä»¬å¦‚æœç‚¹å‡»è¿”å›é”®ï¼Œæ˜¯æ²¡æœ‰æ•ˆæœçš„ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬éœ€è¦ç»™ &lt;code&gt;NavigationHeader&lt;/code&gt; æ·»åŠ ä¸€ä¸ª &lt;code&gt;onNavigateBack&lt;/code&gt;ï¼Œå®ƒå®šä¹‰äº†ç”¨æˆ·ç‚¹å‡»è¿”å›é”®æ—¶çš„æ•ˆæœï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;      &amp;lt;NavigationHeader
        {...sceneProps}
        onNavigateBack={
          () =&amp;gt; this.props.dispatch(pop())
        }
        renderTitleComponent={() =&amp;gt; (
          &amp;lt;NavigationHeader.Title&amp;gt;
            æƒ³åƒ
          &amp;lt;/NavigationHeader.Title&amp;gt;
        )}
        /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç»“æœå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/react-native-navigator-with-back.gif&#34;&gt;&lt;img src=&#34;https://www.zfanw.com/blog/wp-content/uploads/2016/06/react-native-navigator-with-back.gif&#34; alt=&#34;react-native-navigator-with-back&#34; width=&#34;372&#34; class=&#34;alignnone size-full wp-image-18595&#34; /&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä¸€ä¸ª react-native ä¸‹ä½¿ç”¨ redux çš„é”™è¯¯</title>
      <link>https://www.zfanw.com/blog/react-native-redux-expected-a-component-class-got-object-object.html</link>
      <pubDate>Fri, 17 Jun 2016 08:15:47 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/react-native-redux-expected-a-component-class-got-object-object.html</guid>
      <description>&lt;p&gt;æˆ‘åœ¨ react-native é¡¹ç›®é‡Œå†™çš„ &lt;code&gt;index.ios.js&lt;/code&gt; æ–‡ä»¶å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import React from &#39;react&#39;
import { AppRegistry } from &#39;react-native&#39;
import rn from &#39;./src/app&#39;
import { Provider } from &#39;react-redux&#39;
import configureStore from &#39;./src/store/configureStore&#39;
const store = configureStore()
const App = () =&amp;gt; {
  return (
    &amp;lt;Provider store={store}&amp;gt;
      &amp;lt;rn /&amp;gt;
    &amp;lt;/Provider&amp;gt;
    )
}
AppRegistry.registerComponent(&#39;rn&#39;, () =&amp;gt; App)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿è¡Œæ—¶ä¸€ç›´æŠ¥å‘Šè¿™ä¸ªé”™è¯¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Expected a component class, got [object Object].&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;code&gt;App&lt;/code&gt; å½“ç„¶æ˜¯ä¸€ä¸ª Componentï¼Œé—®é¢˜å‡ºåœ¨å“ªï¼Ÿ&lt;/p&gt;

&lt;p&gt;é—®é¢˜å‡ºåœ¨ &lt;code&gt;AppRegistry.registerComponent&lt;/code&gt; æ³¨å†Œçš„ç»„ä»¶åä¹Ÿå« &lt;code&gt;rn&lt;/code&gt;ï¼Œè€Œæˆ‘åœ¨å‰å¤´ &lt;code&gt;import&lt;/code&gt; äº†åŒæ ·çš„ä¸€ä¸ª &lt;code&gt;rn&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¿®æ”¹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import React from &#39;react&#39;
import { AppRegistry } from &#39;react-native&#39;
import Root from &#39;./src/app&#39;
import { Provider } from &#39;react-redux&#39;
import configureStore from &#39;./src/store/configureStore&#39;
const store = configureStore()
const App = () =&amp;gt; {
  return (
    &amp;lt;Provider store={store}&amp;gt;
      &amp;lt;Root /&amp;gt;
    &amp;lt;/Provider&amp;gt;
    )
}
AppRegistry.registerComponent(&#39;rn&#39;, () =&amp;gt; App)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°±ä¸å†æœ‰é—®é¢˜äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªéå¸¸ç®€å•å´å¾ˆå®¹æ˜“å¿½ç•¥çš„é”™è¯¯ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>redux-saga å›è°ƒä¸­æ‰§è¡Œ put</title>
      <link>https://www.zfanw.com/blog/redux-saga-put-in-callback.html</link>
      <pubDate>Sat, 11 Jun 2016 08:05:11 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/redux-saga-put-in-callback.html</guid>
      <description>&lt;p&gt;åœ¨ &lt;a href=&#34;https://github.com/yelouafi/redux-saga&#34;&gt;redux-saga&lt;/a&gt; ä¸‹ï¼Œ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;postWithLoadingEffect(API.user, user).then(
    (response) =&amp;gt; {
      console.log(response)
      // yield put(userActions.setCurrentUser(response.data))
    }
  ).catch(
    (error) =&amp;gt; {
      console.error(error)
    }
  )
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;yield put&lt;/code&gt; æ”¾åœ¨å›è°ƒä¸­æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œå› ä¸ºå›è°ƒå‡½æ•°å¹¶ä¸æ˜¯ generator å‡½æ•°ã€‚&lt;/p&gt;

&lt;p&gt;ä½†è¿™ç§éœ€æ±‚åœ¨å®é™…ä»£ç é‡Œä¼šç»å¸¸å‡ºç°ã€‚æˆ‘ä»¬å¯ä»¥ç»•ä¸ªåœˆå­å®ç°å®ƒï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  try {
    let response = yield call(postWithLoadingEffect, API.user, user)
    if (response) {
      console.log(response)
      window.localStorage.setItem(&#39;authToken&#39;, response.meta.jwt)
      yield put(userActions.setCurrentUser(response.data))
    }
  } catch (error) {
    console.error(error)
  }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&#34;https://yelouafi.github.io/redux-saga/docs/api/index.html#callfn-args&#34;&gt;call&lt;/a&gt; æ˜¯ redux-saga æä¾›çš„ä¸€ä¸ª effectï¼Œå®ƒä¼šæ‰§è¡Œä¼ é€’ç»™å®ƒçš„å‡½æ•°ã€‚è¿™æ ·æˆ‘ä»¬å°±å–å¾—äº†ç»“æœï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ &lt;code&gt;yield put&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä½†å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘è§‰å¾—åœ¨ saga ä¸­ç›´æ¥ä½¿ç”¨ &lt;code&gt;dispatch&lt;/code&gt; ä¼šæ›´æ–¹ä¾¿ï¼Œåªæ˜¯è¿™æ · redux-saga çš„å¥½å¤„ä¾¿åˆä¸¢äº† &amp;#8211; ä¸å¦‚å›å»å†™ redux-thunkã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>é”™è¯¯åˆ†ç±»</title>
      <link>https://www.zfanw.com/blog/different-errors.html</link>
      <pubDate>Thu, 09 Jun 2016 08:41:15 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/different-errors.html</guid>
      <description>&lt;p&gt;â€‹å¦‚æœä½ åœ¨ç½‘é¡µä¸Šçœ‹åˆ°é”™è¯¯æç¤ºï¼Œå®ƒä»¬çš„æ¥æºå¤§è‡´æœ‰ä¸¤ç§ï¼Œä¸€ç§æ¥è‡ªå‰ç«¯ï¼Œä¸€ç§æ¥è‡ªåç«¯ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚è¯´æœ‰ä¸€ä¸ªé‚®ç®±åœ°å€çš„è¾“å…¥æ¡†ï¼Œç”¨æˆ·è¯•å›¾æäº¤ç©ºå€¼ï¼Œæˆ‘ä»¬ä¼šæŠ¥å‘Šä¸€ä¸ªå‰ç«¯ä¸Šçš„é”™è¯¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;è¯·å¡«å†™é‚®ç®±åœ°å€&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨ react.js é‡Œï¼Œè¿™ä¸ªé”™è¯¯æ˜¯ä¸€ä¸ª &lt;a href=&#34;https://facebook.github.io/react/docs/interactivity-and-dynamic-uis.html#what-shouldnt-go-in-state&#34;&gt;computed å€¼&lt;/a&gt;ï¼ˆè®¡ç®—å€¼ &amp;#8211; å³ä¾èµ–å…¶å®ƒ state è®¡ç®—å‡ºæ¥çš„ï¼‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;class Email extends React.Component {
  state = {
    email: &#39;&#39;
  }
  render () {
    const computedError = email.trim() === &#39;&#39; ? &#39;è¯·å¡«å†™é‚®ç®±åœ°å€&#39; : &#39;&#39;
    return &amp;lt;div&amp;gt;
      &amp;lt;input type=&#39;text&#39; value={this.state.email}/&amp;gt;
      &amp;lt;span&amp;gt;{computedError}&amp;lt;/span&amp;gt;
    &amp;lt;/div&amp;gt;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ˜¯å› ä¸ºï¼Œ&lt;code&gt;state&lt;/code&gt; å¤šäº†ï¼Œä»£ç éš¾ä»¥ç®¡ç†ï¼Œæ‰€ä»¥æœ‰äº›æ•°æ®æˆ‘ä»¬è¦å°½é‡ä»å…¶å®ƒæ•°æ®ä¸­æ¨æ¼”ï¼Œè€Œä¸æ˜¯æ–°å»ºä¸€ä¸ªã€‚&lt;/p&gt;

&lt;p&gt;ä½†ä¸Šé¢çš„ç¤ºä¾‹é‡Œï¼Œemail åœ°å€æäº¤åˆ°æœåŠ¡ç«¯ï¼Œè¿˜å¯èƒ½è¿”å›ä¸€ç§é”™è¯¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;è¯¥é‚®ç®±åœ°å€å·²ç»è¢«äººæ³¨å†Œ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¿™ä¸€ç§é”™è¯¯ï¼Œå¹¶æ²¡åŠæ³•é€šè¿‡ &lt;code&gt;email&lt;/code&gt; æ•°æ®æ¨æ¼”ï¼Œæˆ‘çš„åšæ³•æ˜¯ï¼Œæ–°å»ºä¸€ä¸ª state ç”¨æ¥å­˜å‚¨ã€‚ä¸è¿‡è¿™ç±»è¡¨å•æ•°æ®å¤šäº†ï¼Œæ•´ä¸ªç»„ä»¶å°±ä¼šéå¸¸åºå¤§ï¼Œå¾ˆå®¹æ˜“å‡ºé”™ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>åŠ è½½ä¸­</title>
      <link>https://www.zfanw.com/blog/loading-indicator.html</link>
      <pubDate>Mon, 06 Jun 2016 01:43:29 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/loading-indicator.html</guid>
      <description>&lt;p&gt;åœ¨ app ä¸Šï¼Œæˆ‘ä»¬ç»å¸¸è§åˆ°â€œåŠ è½½ä¸­â€çš„å›¾æ ‡ã€‚è¿™æ˜¯ç«™åœ¨ç”¨æˆ·çš„è§’åº¦çœ‹ã€‚å¦‚æœåˆ‡æ¢åˆ°å¼€å‘è€…è§’åº¦ï¼Œåˆ™ä¼šæœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œè¿™ä¸ª loading å›¾æ ‡æ˜¯å³åˆ»å‡ºç°çš„å—ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å¦‚æœ http å“åº”å¾ˆå¿«ï¼Œåˆ™ä¸€é—ªè€Œè¿‡çš„ loading å¯¹ç”¨æˆ·æ¥è¯´ï¼Œä½“éªŒå¹¶ä¸å¥½ã€‚&lt;/p&gt;

&lt;p&gt;å¯æ˜¯ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“ä¸€ä¸ªå“åº”æ˜¯å¿«è¿˜æ˜¯æ…¢ï¼Ÿæ¯•ç«Ÿï¼Œç½‘ç»œçš„çŠ¶å†µå¹¶ä¸å¯æ§ï¼Œä¸€ä¸ªå“åº”åœ¨ç¾å›½ä¹Ÿè®¸å¾ˆå¿«ï¼Œåœ¨ä¸­å›½å´å¼‚å¸¸çš„æ…¢ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªæ›´å‹å¥½çš„è§£å†³åŠæ³•ï¼Œå¯èƒ½æ˜¯è¿™æ ·ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;http è¯·æ±‚å‘èµ·&lt;/li&gt;
&lt;li&gt;100ms å†…å“åº”ï¼Œåˆ™ä¸éœ€è¦è°ƒå‡º loading&lt;/li&gt;
&lt;li&gt;å¦‚æœ 100ms å†…è¿˜æœªå“åº”ï¼Œåˆ™è°ƒå‡º loading&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;åœ¨ &lt;a href=&#34;https://www.nngroup.com/articles/progress-indicators/&#34;&gt;nngroup è¿›åº¦æŒ‡ç¤ºæ¡ä¸€æ–‡é‡Œ&lt;/a&gt; ï¼Œä½œè€…æåˆ°ä¸€ä¸ªå‚è€ƒæ—¶é—´ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;This indicator should be reserved for actions that take between 2-10 seconds. For anything that takes less than 1 second to load, it is distracting to use a looped animation, because users cannot keep up with what happened and might feel anxious about whatever flashed on the screen.&lt;/p&gt;

&lt;p&gt;å¦‚æœ 1s å†…èƒ½å“åº”ï¼Œå°±ä¸è¯¥ç”¨å¾ªç¯åŠ¨ç”»æ¥æŒ‡ç¤ºè¿›åº¦ï¼Œå› ä¸ºç”¨æˆ·æ²¡æ³•è·Ÿä¸Šï¼Œå¯èƒ½ä¼šå¯¹å±å¹•ä¸Šä¸€é—ªè€Œè¿‡çš„ä¸œè¥¿æ„Ÿåˆ°ç„¦è™‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ‰€ä»¥ä¸Šé¢çš„è§£å†³åŠæ³•å¯ä»¥ä¿®æ”¹ä¸ºï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;http è¯·æ±‚å‘èµ·&lt;/li&gt;
&lt;li&gt;10s å†…å“åº”ï¼Œåˆ™ä¸éœ€è¦è°ƒå‡º loading&lt;/li&gt;
&lt;li&gt;å¦‚æœ 10s å†…æœªå“åº”ï¼Œåˆ™è°ƒå‡º loading&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;åªæ˜¯è¿™é‡Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜å‡ºç°ï¼Œå¦‚æœ http è¯·æ±‚åœ¨ 11s æ—¶å“åº”ï¼Œåˆ™ loading è¿˜æ˜¯ä¸€é—ªè€Œè¿‡ã€‚ &amp;#8211; åœ¨ web çš„å¤æ‚ç¯å¢ƒä¸‹ï¼Œè¿™è¿‘äºæ— è§£ã€‚&lt;/p&gt;

&lt;p&gt;è‡³äºä»£ç å®ç°ä¸Šï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å°è£…ä¸€ä¸ªä¸“ç”¨çš„ API æ¥å¤„ç† http è¯·æ±‚ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>redux.js çš„ç››è¡Œ</title>
      <link>https://www.zfanw.com/blog/redux-js-prevail.html</link>
      <pubDate>Wed, 01 Jun 2016 02:35:36 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/redux-js-prevail.html</guid>
      <description>&lt;p&gt;åœ¨ react.js é‡Œï¼Œå¦‚æœæŠŠä¸€ä¸ªç»„ä»¶å†™åœ¨å¦ä¸€ä¸ªç»„ä»¶çš„ &lt;code&gt;render&lt;/code&gt; æ–¹æ³•é‡Œï¼Œåˆ™å…¶å®ƒç»„ä»¶è¦ç”¨å®ƒçš„è¯ï¼Œæˆ‘ä»¬åˆè¦é‡å¤ä¸€éä»£ç ã€‚æ‰€ä»¥æˆ‘ä»¬è¦æŠ½å–å®ƒï¼Œç‹¬ç«‹æˆä¸€ä¸ªç»„ä»¶ã€‚å¯æ˜¯ï¼Œè¿™æ—¶å®ƒçš„ &lt;code&gt;state&lt;/code&gt; åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿ&lt;/p&gt;

&lt;p&gt;å¦‚æœæˆ‘ä»¬æŠŠ &lt;code&gt;state&lt;/code&gt; æ”¾åœ¨ç»„ä»¶å†…éƒ¨ï¼Œåˆ™çˆ¶ç»„ä»¶æœ‰è¯»å–å­ç»„ä»¶æ•°æ®çš„éœ€æ±‚æ—¶ï¼Œçˆ¶ç»„ä»¶å†…éƒ¨å°±è¦åˆ›å»ºä¸€ä¸ªå˜é‡ï¼Œè¿˜è¦æä¾›ç»™å­ç»„ä»¶ä¸€ä¸ªå›è°ƒï¼Œè¿™æ ·ï¼ŒåŒæ ·çš„ &lt;code&gt;state&lt;/code&gt; æˆ‘ä»¬ä¼šåœ¨çˆ¶ã€å­ä¸¤ä¸ªåœ°æ–¹å®ç°ï¼Œåˆ™ä¸å¦‚ &lt;code&gt;state&lt;/code&gt; åªå®šä¹‰åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œé€šè¿‡ &lt;code&gt;props&lt;/code&gt; ä¼ é€’ç»™å­ç»„ä»¶ï¼Œè¿™æ ·ï¼Œå­ç»„ä»¶çš„åŠŸèƒ½å°±æ¯”è¾ƒå•ä¸€ï¼Œä¾¿äºå¤ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œåˆæœ‰ä¸€ä¸ªæ–°çš„é—®é¢˜äº§ç”Ÿã€‚ä¸¾ä¸€ä¸ª Email ç»„ä»¶æ¥è¯´ï¼Œå®ƒå¯èƒ½åœ¨ç™»å½•è¡¨å•ç»„ä»¶é‡Œä½¿ç”¨ï¼Œä¹Ÿå¯èƒ½åœ¨æ³¨å†Œè¡¨å•ç»„ä»¶é‡Œä½¿ç”¨ï¼Œè¿™ä¸¤ä¸ªçˆ¶ç»„ä»¶çš„é€»è¾‘æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ— æ³•å¤ç”¨ï¼Œè€Œå®ƒä»¬åœ¨ä½¿ç”¨ Email ç»„ä»¶æ—¶ï¼Œå´éƒ½éœ€è¦æä¾›ç»™ Email ç»„ä»¶ä¸€ä¸ªå˜é‡åŠä¸€ä¸ªå›è°ƒå‡½æ•° &amp;#8211; å®ƒä»¬åœ¨ä¸¤ä¸ªçˆ¶ç»„ä»¶ä¸­æ˜¾ç„¶åˆæ˜¯é‡å¤çš„ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚æˆ‘çš„ä¸€ä¸ªä½¿ç”¨ &lt;a href=&#34;https://github.com/mobxjs/mobx&#34;&gt;mobx&lt;/a&gt; çš„æ³¨å†Œç»„ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import React, { Component } from &#39;react&#39;
import { observable, action, computed } from &#39;mobx&#39;
import Email from &#39;../common/Email&#39;

@observer
class Register extends Component {
  @observable email = &#39;&#39;
  @computed get emailError () {
    if (this.email.trim() === &#39;&#39;) {
      return &#39;è¯·å¡«å†™é‚®ç®±åœ°å€&#39;
    }
    if (!emailRegExp.test(this.email.trim())) {
      return &#39;è¯·å¡«å†™æ­£ç¡®çš„é‚®ç®±åœ°å€&#39;
    }
    return &#39;&#39;
  }
  render () {
    return (
      &amp;lt;div&amp;gt;
          &amp;lt;Email email={this.email}
            changeEmail={this.changeEmail}
            emailError={this.emailError}
            /&amp;gt;
      &amp;lt;/div&amp;gt;
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨ç™»å½•ç»„ä»¶ä¸­ï¼Œå‡ ä¹ä¸€æ¨¡ä¸€æ ·çš„ä»£ç ï¼Œæˆ‘åˆè¦é‡å¤ä¸€éã€‚&lt;/p&gt;

&lt;p&gt;Don&amp;#8217;t repeat yourself è¯´èµ·æ¥å½“ç„¶æ˜¯ç®€å•ï¼Œä½†åšèµ·æ¥å¹¶ä¸å®¹æ˜“ã€‚å°±è¯´æˆ‘ä»¬ä¸Šé¢æ‰€åšçš„æ¼”è¿›ï¼Œç›®çš„æ˜¯æ»¡è¶³éœ€æ±‚çš„åŒæ—¶æ¶ˆé™¤é‡å¤ï¼Œä½†ç»“æœæˆ‘ä»¬åªæ˜¯æŠŠ repeat ä»ä¸€ä¸ªåœ°æ–¹è¿ç§»åˆ°äº†å¦ä¸€ä¸ªåœ°æ–¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://redux.js.org/index.html&#34;&gt;Redux&lt;/a&gt; èƒ½è§£å†³æˆ‘ä»¬çš„é—®é¢˜ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;å°†çˆ¶ç»„ä»¶ä¸­é‡å¤çš„å˜é‡å­˜å‚¨åˆ° store ä¸­&lt;/li&gt;
&lt;li&gt;å›è°ƒå‡½æ•°æ‹†ä¸º reducer + action&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è¿™æ ·ï¼Œæˆ‘ä»¬å°±ä¸å¿…åœ¨å¤šä¸ªçˆ¶ç»„ä»¶é‡Œé‡å¤å˜é‡åŠå›è°ƒå‡½æ•°ã€‚ä½†æ˜¯ï¼Œå› ä¸ºæˆ‘ä»¬æŠŠå˜é‡å­˜å‚¨åœ¨ store é‡Œï¼ŒæŠŠå›è°ƒå‡½æ•°æ‹†ä¸º reducer + actionï¼Œåˆ™æˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶ï¼Œå°±åˆå¤šäº†ä¸€ä¸ªè¯»å–è¿‡ç¨‹ï¼Œåœ¨ redux.js é‡Œï¼Œè¿™é€šè¿‡ &lt;a href=&#34;https://github.com/reactjs/react-redux/blob/master/docs/api.md#api&#34;&gt;react-redux&lt;/a&gt; å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œåƒ redux è¿™æ ·æå–çˆ¶ç»„ä»¶ä¸­é‡å¤å˜é‡ç„¶åå¤ç”¨çš„åšæ³•å¹¶ä¸èƒ½æ»¡è¶³æ‰€æœ‰éœ€æ±‚ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ç¡®å®éœ€è¦ä¸¤ä»½æ•°æ®ï¼Œè¿™æ—¶ï¼Œredux &lt;a href=&#34;https://github.com/reactjs/redux/issues/822#issuecomment-186614362&#34;&gt;ä¹Ÿæ²¡æœ‰&lt;/a&gt;å¥½çš„&lt;a href=&#34;https://github.com/reactjs/redux/issues/897#issuecomment-148233789&#34;&gt;è§£å†³åŠæ³•&lt;/a&gt;ï¼Œå› ä¸º action æ²¡æ³•å¤ç”¨ï¼Œreducer ä¹Ÿæ²¡æ³•å¤ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ redux çš„å®šä¹‰é‡Œï¼Œç»„ä»¶æœ‰ä¸¤ç§ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Container component&lt;/li&gt;
&lt;li&gt;Presentational component&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ä¸Šé¢çš„ä¾‹å­é‡Œï¼ŒEmail ç»„ä»¶æ˜¯ Presentational componentï¼Œè¦åšåˆ°å®ƒçš„å¤ç”¨ååˆ†å®¹æ˜“ï¼Œè€Œç™»å½•æˆ–æ³¨å†Œç»„ä»¶åˆ™å±äº Container componentï¼Œå®ƒä»¬çš„å¤ç”¨æ€§å°±éå¸¸ä½ï¼Œä»£ç ä¸Šçš„é‡å¤ä¹Ÿå¾ˆéš¾é¿å… &amp;#8211; ç›®å‰æˆ‘è¿˜æ²¡çœ‹åˆ°è¾ƒå¥½çš„è§£å†³åŠæ³•ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ æœ‰ï¼Œæ¬¢è¿ç•™è¨€ï¼šï¼‰&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>React Native ä¸‹ä½¿ç”¨ emoji çš„ Invalid hex-character pattern in string é—®é¢˜</title>
      <link>https://www.zfanw.com/blog/react-native-emoji-invalid-hex-character-pattern-in-string.html</link>
      <pubDate>Sat, 07 May 2016 08:32:23 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/react-native-emoji-invalid-hex-character-pattern-in-string.html</guid>
      <description>&lt;p&gt;æˆ‘åœ¨ react native é¡¹ç›®é‡Œç”¨åˆ°äº† emojiï¼Œæ¯”å¦‚ç¬‘è„¸ ğŸ˜ï¼Œå½“ç„¶ï¼Œæˆ‘ä¸æ˜¯ç›´æ¥ä½¿ç”¨è¡¨æƒ…ï¼Œè€Œæ˜¯ä½¿ç”¨äº† unicodeã€‚ğŸ˜ çš„ unicode å€¼æ˜¯ &lt;code&gt;U+1F601&lt;/code&gt;ï¼Œåœ¨ react native é¡¹ç›®é‡Œï¼Œä»£ç å†™æˆäº†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;Text&amp;gt;{&amp;quot;\u{1F601}&amp;quot;}&amp;lt;/Text&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é¡¹ç›®åœ¨æ¨¡æ‹Ÿå™¨ä¸‹ï¼Œæˆ– &lt;code&gt;Debug&lt;/code&gt; æ¨¡å¼ä¸‹çš„è®¾å¤‡ä¸Šè·‘ï¼Œéƒ½ä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨ &lt;code&gt;Release&lt;/code&gt; æ¨¡å¼ä¸‹è·‘è®¾å¤‡ä¸Šï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Sat, 07 May 2016 07:02:29 GMT ReactNativePackager:SocketServer server got ipc message { type: &#39;createSocketServer&#39;,
  data: 
   { sockPath: &#39;/var/folders/xk/y5j8r_dd0qg9ckymx96qd81c0000gn/T/react-packager-e36f208f7a835e0174b01026652af058&#39;,
     options: 
      { projectRoots: [Object],
        assetRoots: [Object],
        blacklistRE: [Object],
        transformModulePath: &#39;/Users/sam/Documents/job/fz-app/node_modules/react-native/packager/transformer.js&#39; } } }
[3:02:30 PM] &amp;lt;START&amp;gt; Building Dependency Graph
[3:02:30 PM] &amp;lt;START&amp;gt; Crawling File System
Sat, 07 May 2016 07:02:30 GMT ReactNativePackager:SocketServer Process 45912 listening on socket path /var/folders/xk/y5j8r_dd0qg9ckymx96qd81c0000gn/T/react-packager-e36f208f7a835e0174b01026652af058 for server with options {&amp;quot;projectRoots&amp;quot;:[&amp;quot;/Users/sam/Documents/job/fz-app&amp;quot;],&amp;quot;assetRoots&amp;quot;:[&amp;quot;/Users/sam/Documents/job/fz-app&amp;quot;],&amp;quot;blacklistRE&amp;quot;:{},&amp;quot;transformModulePath&amp;quot;:&amp;quot;/Users/sam/Documents/job/fz-app/node_modules/react-native/packager/transformer.js&amp;quot;,&amp;quot;nonPersistent&amp;quot;:true}
Sat, 07 May 2016 07:02:30 GMT ReactNativePackager:SocketServer succesfully created server
Sat, 07 May 2016 07:02:30 GMT ReactNativePackager:SocketServer connection to server 45912
Sat, 07 May 2016 07:02:30 GMT ReactNativePackager:SocketServer got request { type: &#39;buildBundle&#39;,
  data: 
   { entryFile: &#39;index.ios.js&#39;,
     dev: false,
     minify: true,
     platform: &#39;ios&#39; },
  id: &#39;xru0e36&#39; }
[3:02:30 PM] &amp;lt;START&amp;gt; find dependencies
[3:02:36 PM] &amp;lt;END&amp;gt;   Crawling File System (6361ms)
[3:02:36 PM] &amp;lt;START&amp;gt; Building in-memory fs for JavaScript
[3:02:37 PM] &amp;lt;END&amp;gt;   Building in-memory fs for JavaScript (290ms)
[3:02:37 PM] &amp;lt;START&amp;gt; Building in-memory fs for Assets
[3:02:37 PM] &amp;lt;END&amp;gt;   Building in-memory fs for Assets (204ms)
[3:02:37 PM] &amp;lt;START&amp;gt; Building Haste Map
[3:02:37 PM] &amp;lt;START&amp;gt; Building (deprecated) Asset Map
[3:02:37 PM] &amp;lt;END&amp;gt;   Building (deprecated) Asset Map (105ms)
[3:02:37 PM] &amp;lt;END&amp;gt;   Building Haste Map (229ms)
[3:02:37 PM] &amp;lt;END&amp;gt;   Building Dependency Graph (7105ms)
[3:02:38 PM] &amp;lt;END&amp;gt;   find dependencies (7604ms)
Sat, 07 May 2016 07:02:45 GMT ReactNativePackager:SocketServer request error { message: &#39;Invalid hex-character pattern in string&#39;,
  filename: 0,
  line: 39,
  col: 1,
  pos: 1704,
  stack: &#39;Error\n    at new JS_Parse_Error (eval at &amp;lt;anonymous&amp;gt; (/Users/sam/Documents/job/fz-app/node_modules/uglify-js/tools/node.js:22:1), &amp;lt;anonymous&amp;gt;:1526:18)\n    at js_error (eval at &amp;lt;anonymous&amp;gt; (/Users/sam/Documents/job/fz-app/node_modules/uglify-js/tools/node.js:22:1), &amp;lt;anonymous&amp;gt;:1534:11)\n    at parse_error (eval at &amp;lt;anonymous&amp;gt; (/Users/sam/Documents/job/fz-app/node_modules/uglify-js/tools/node.js:22:1), &amp;lt;anonymous&amp;gt;:1647:9)\n    at hex_bytes (eval at &amp;lt;anonymous&amp;gt; (/Users/sam/Documents/job/fz-app/node_modules/uglify-js/tools/node.js:22:1), &amp;lt;anonymous&amp;gt;:1704:17)\n    at read_escaped_char (eval at &amp;lt;anonymous&amp;gt; (/Users/sam/Documents/job/fz-app/node_modules/uglify-js/tools/node.js:22:1), &amp;lt;anonymous&amp;gt;:1688:49)\n    at eval (eval at &amp;lt;anonymous&amp;gt; (/Users/sam/Documents/job/fz-app/node_modules/uglify-js/tools/node.js:22:1), &amp;lt;anonymous&amp;gt;:1730:27)\n    at eval (eval at &amp;lt;anonymous&amp;gt; (/Users/sam/Documents/job/fz-app/node_modules/uglify-js/tools/node.js:22:1), &amp;lt;anonymous&amp;gt;:1870:24)\n    at Object.next_token [as input] (eval at &amp;lt;anonymous&amp;gt; (/Users/sam/Documents/job/fz-app/node_modules/uglify-js/tools/node.js:22:1), &amp;lt;anonymous&amp;gt;:1897:36)\n    at next (eval at &amp;lt;anonymous&amp;gt; (/Users/sam/Documents/job/fz-app/node_modules/uglify-js/tools/node.js:22:1), &amp;lt;anonymous&amp;gt;:2012:25)\n    at expect_token (eval at &amp;lt;anonymous&amp;gt; (/Users/sam/Documents/job/fz-app/node_modules/uglify-js/tools/node.js:22:1), &amp;lt;anonymous&amp;gt;:2045:20)&#39; }
Sat, 07 May 2016 07:02:45 GMT ReactNativePackager:SocketServer request finished error
Worker Farm: Received message for unknown index for existing child. This should not happen!
Sat, 07 May 2016 07:03:16 GMT ReactNativePackager:SocketServer server dying 45912
Sat, 07 May 2016 07:03:16 GMT ReactNativePackager:SocketServer exit code: 0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‡ç‚¹åœ¨è¿™ä¸€å¥ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Sat, 07 May 2016 07:02:45 GMT ReactNativePackager:SocketServer request error { message: &#39;Invalid hex-character pattern in string&#39;,
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆ &lt;code&gt;Debug&lt;/code&gt; æ¨¡å¼ä¸‹æ²¡æœ‰é—®é¢˜ï¼Ÿè¿™æ˜¯å› ä¸º &lt;code&gt;Release&lt;/code&gt; æ¨¡å¼ä¸‹ï¼Œä¼šä½¿ç”¨ uglifyjs å‹ç¼©ä»£ç ï¼Œç¢°ä¸Š &lt;code&gt;\u{1F601}&lt;/code&gt; å¯¼è‡´çš„ã€‚&lt;/p&gt;

&lt;p&gt;è§£æ³•æœ‰ä¸¤ä¸ªï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ç›´æ¥ä½¿ç”¨è¡¨æƒ…å­—ç¬¦ ğŸ˜&lt;/li&gt;
&lt;li&gt;æˆ–è€…ä½¿ç”¨ &lt;a href=&#34;https://github.com/jorilallo/react-native-emoji&#34;&gt;react-native-emoji&lt;/a&gt; è¿™æ ·çš„ç¬¬ä¸‰æ–¹åº“ã€‚&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>SSH è¿œç¨‹ç«¯å£è½¬å‘</title>
      <link>https://www.zfanw.com/blog/ssh-remote-forwarding.html</link>
      <pubDate>Mon, 07 Mar 2016 06:28:37 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/ssh-remote-forwarding.html</guid>
      <description>&lt;p&gt;æˆ‘åœ¨&lt;a href=&#34;https://www.zfanw.com/blog/telegram-bot-with-nodejs.html&#34; title=&#34;ä½¿ç”¨ hapi.js å¼€å‘ telegram æœºå™¨äºº&#34;&gt;å¼€å‘ Telegram bot&lt;/a&gt; æ—¶ï¼Œæ˜¯å…ˆåœ¨æœ¬åœ°å†™å¥½ä»£ç ï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨å†æµ‹è¯•çš„ã€‚å› ä¸º telegram çš„ &lt;a href=&#34;https://core.telegram.org/bots/api#setwebhook&#34;&gt;setWebhook&lt;/a&gt; æŒ‡å®šçš„ç½‘å€æ˜¯çº¿ä¸Šçš„ã€‚è¿™ä¸€ç‚¹ï¼Œä¸å¾®ä¿¡å…¬ä¼—å·å¼€å‘æ—¶çš„&lt;a href=&#34;https://mp.weixin.qq.com/wiki/8/f9a0b8382e0b77d87b3bcc1ce6fbc104.html#.E7.AC.AC.E4.B8.80.E6.AD.A5.EF.BC.9A.E5.A1.AB.E5.86.99.E6.9C.8D.E5.8A.A1.E5.99.A8.E9.85.8D.E7.BD.AE&#34; title=&#34;å¾®ä¿¡å¼€å‘è€…æ–‡æ¡£&#34;&gt;æ¥å…¥æœåŠ¡å™¨é…ç½®&lt;/a&gt;æ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œè¿™æ ·è°ˆä¸ä¸Šä»€ä¹ˆå¼€å‘æ•ˆç‡ã€‚&lt;/p&gt;

&lt;p&gt;ç½‘ä¸Šæœ‰äº›ç«¯å£æ˜ å°„çš„å·¥å…·ï¼Œæ¯”å¦‚ ngrokï¼Œä½† SSH æœ¬èº«å°±å¸¦äº†è¿™æ ·ä¸€ä¸ªå·¥å…·ã€‚&lt;/p&gt;

&lt;p&gt;å‡è®¾æˆ‘ telegram webhook åœ°å€æ˜¯ &lt;a href=&#34;https://www.zfanw.com/telegramï¼ŒæœåŠ¡å™¨è¿è¡Œåœ¨&#34;&gt;https://www.zfanw.com/telegramï¼ŒæœåŠ¡å™¨è¿è¡Œåœ¨&lt;/a&gt; 3344 ç«¯å£ï¼Œæœ¬åœ°çš„å¼€å‘ç¯å¢ƒè¿è¡Œåœ¨ localhost:3344 åœ°å€ä¸Šï¼Œåˆ™è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ssh -R 3344:localhost:3344 admin@zfanw.com
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°±å¯ä»¥å®Œæˆè¿œç¨‹ç«¯å£è½¬å‘åˆ°æœ¬åœ°ã€‚è¿™æ ·ï¼Œtelegram å¾€ &lt;a href=&#34;https://www.zfanw.com/telegram&#34;&gt;https://www.zfanw.com/telegram&lt;/a&gt; åœ°å€ POST çš„æ•°æ®éƒ½ä¼šè¢«è½¬å‘åˆ°æˆ‘æœ¬åœ°ä¸Šçš„ localhost:3344ã€‚&lt;/p&gt;

&lt;p&gt;ç­‰ç­‰ï¼Œè¦æ€ä¹ˆæ–­æ‰è½¬å‘ï¼Ÿé¦–å…ˆï¼ŒSSH è¿æ¥å¹¶ä¸ç¨³å®šï¼Œå¾ˆå®¹æ˜“å°±æ–­æ‰ã€‚å¦‚æœä¸‡å¹¸ä¸æ‰ï¼Œåˆ™è¾“å…¥&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;exit
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å›è½¦å³å¯é€€å‡ºã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‰ &lt;kbd&gt;CTRL - C&lt;/kbd&gt; å¼ºåˆ¶é€€å‡ºã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Node.js å¼€å‘ Telegram bot</title>
      <link>https://www.zfanw.com/blog/telegram-bot-with-nodejs.html</link>
      <pubDate>Sat, 27 Feb 2016 14:16:36 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/telegram-bot-with-nodejs.html</guid>
      <description>&lt;p&gt;æ˜¨å¤© Ingress å¦é—¨çš„ telegram ç¾¤é‡Œå¤§å®¶åœ¨é€—æœºå™¨äººï¼Œäºæ˜¯è‡ªå·±ä¹Ÿæƒ³å¼€å‘ä¸€ä¸ªç©ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œåœ¨ telegram é‡Œæ‰¾ &lt;a href=&#34;https://telegram.me/botfather&#34;&gt;@BotFather&lt;/a&gt; ï¼Œè·Ÿå®ƒå¯¹è¯ï¼Œè®©å®ƒåˆ›å»ºä¸€ä¸ª botï¼Œå¹¶ä¸”è®¨è¦ä¸€ä¸ª tokenï¼Œtoken å¤§æ¦‚é•¿è¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸ bot å¯¹è¯ï¼Œæˆ–æ˜¯åœ¨å¸¦äº† bot ç©çš„ç¾¤é‡Œè¯´è¯ï¼Œbot éƒ½èƒ½å¤Ÿè¯»å–åˆ°ï¼Œå®ƒç›¸å½“äºä¸­é—´çš„ä¼ è¯è€…ï¼ŒæœåŠ¡å™¨ä¸ bot å¯¹è¯çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://core.telegram.org/bots/api#getupdates&#34;&gt;getUpdates&lt;/a&gt; &amp;#8211; æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸»åŠ¨è¯»å–&lt;/p&gt;

&lt;p&gt;æ‹¿ä¸Šé¢é‚£ä¸ªå‡ token è¯´ï¼ŒGET &lt;code&gt;https://api.telegram.org/bot123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11/getUpdates&lt;/code&gt; å°±å¯ä»¥å¾—åˆ°æ•°æ®ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://core.telegram.org/bots/api#setwebhook&#34;&gt;setWebhook&lt;/a&gt; &amp;#8211; telegram bot åœ¨å¾—åˆ°æ¶ˆæ¯åï¼Œä¼šä¸»åŠ¨å¾€æˆ‘ä»¬é€šè¿‡ setWebhook æ¥å£è®¾å®šçš„æœåŠ¡å™¨ url POST æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;setWebhook&lt;/code&gt; çš„ç”¨æ³•æ˜¯ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—® &lt;code&gt;https://api.telegram.org/bot123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11/setWebhook?url=https://example.org&lt;/code&gt;ï¼Œé¡µé¢ä¼šè¿”å›ç»“æœï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;{&amp;#8220;ok&amp;#8221;:true,&amp;#8221;result&amp;#8221;:true,&amp;#8221;description&amp;#8221;:&amp;#8221;Webhook was set&amp;#8221;}&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¿”å›ç»“æœè¡¨ç¤º Webhook è®¾å®šæˆåŠŸï¼Œä¹‹å telegram å°±ä¼šå¾€ &lt;a href=&#34;https://example.org&#34;&gt;https://example.org&lt;/a&gt; åœ°å€ POST æ–°æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;webhook çš„åœ°å€å¿…éœ€æ˜¯ https çš„ï¼Œtelegram æ–‡æ¡£ä¸­æœ‰æåˆ°è¯ä¹¦ &amp;#8211; é™¤éä½ çš„ç½‘ç«™æ˜¯è‡ªå·±ç­¾åçš„ï¼Œå¦åˆ™å¯ä»¥ä¸ç†ä¼šè¯¥å‚æ•°ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å¦å¤–ï¼Œ&lt;code&gt;getUpdates&lt;/code&gt; æ–¹æ³•ä¸ &lt;code&gt;setWebhook&lt;/code&gt; åªèƒ½äºŒé€‰ä¸€ï¼Œä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ç”¨çš„ node.js æ¡†æ¶æ˜¯ &lt;a href=&#34;http://hapijs.com/&#34;&gt;hapi.js&lt;/a&gt;ï¼Œæ•´ä¸ªä»£ç å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;const Hapi = require(&#39;hapi&#39;)
const ajax = require(&#39;request&#39;)

// Create a server with a host and port
const server = new Hapi.Server()
const token = require(&#39;./token&#39;)
const api = `https://api.telegram.org/bot${token}/`

server.connection({
  host: &#39;localhost&#39;,
  port: 8888
})

// Add the route
server.route({
  method: &#39;GET&#39;,
  path: &#39;/&#39;,
  handler: function (request, reply) {
    return reply(&#39;hello world&#39;)
  }
})
server.route({
  method: &#39;POST&#39;,
  path: &#39;/&#39; + token,
  handler: function (req, reply) {
    reply(&#39;done&#39;)
    const message = req.payload.message
    const chat_id = message.from.id
    ajax.post(api + &#39;sendMessage&#39;,
          {
            form: {chat_id: chat_id, text: message.text}
          }, (err, response, body) =&amp;gt; {
            if (err) console.log(err)
            console.log(&#39;everything is ok: &#39;, body)
          })
  }
})

// Start the server
server.start((err) =&amp;gt; {
  if (err) {
    throw err
  }
  console.log(&#39;Server running at:&#39;, server.info.uri)
})
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŠŠä»£ç ä¸Šä¼ åˆ° vps ä¸Šï¼Œé€šè¿‡ &lt;a href=&#34;http://pm2.keymetrics.io/docs/usage/quick-start/&#34;&gt;pm2&lt;/a&gt; å¯åŠ¨ï¼Œå¹¶é…ç½® Apacheï¼Œå°†&lt;a href=&#34;https://www.zfanw.com/blog/apache-proxy-node-js.html&#34;&gt;æŒ‡å®šè·¯ç”±çš„æµé‡å…¨éƒ¨è½¬å‘ç»™ node.js æœåŠ¡å™¨ä¸Š&lt;/a&gt;ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Apache ä»£ç† Node.js æœåŠ¡å™¨</title>
      <link>https://www.zfanw.com/blog/apache-proxy-node-js.html</link>
      <pubDate>Sun, 07 Feb 2016 04:05:35 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/apache-proxy-node-js.html</guid>
      <description>&lt;p&gt;æˆ‘åœ¨&lt;a href=&#34;https://www.zfanw.com/blog/linode-vps-install-ghost.html#_Apache_Ghost&#34;&gt;å®‰è£… Ghost åšå®¢&lt;/a&gt;æ—¶ï¼Œéœ€è¦è½¬å‘ Apache è¯·æ±‚ç»™ node.js æœåŠ¡å™¨ï¼Œå½“æ—¶ä¸ºäº†å¿«é€Ÿæå®šï¼Œæ‰¾äº†äº›èµ„æ–™ï¼Œæ‹·äº†äº›é…ç½®ï¼Œçœ‹å®ƒå¯ä»¥è¿è¡Œï¼Œä¹Ÿå°±æ²¡å†æ­ç†ã€‚&lt;/p&gt;

&lt;p&gt;è¯´æ¥ï¼Œæˆ‘æ ¹æœ¬ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦åŠ ä¸ª &lt;code&gt;ProxyPassReverse&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å‰äº›å¤©å†™çš„ blog &lt;a href=&#34;https://www.zfanw.com/blog/react-js-server-render.html&#34;&gt;React.js æœåŠ¡ç«¯æ¸²æŸ“&lt;/a&gt;é‡Œï¼ŒåŒæ ·éœ€è¦è®©ç¤ºä¾‹åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œã€‚ä¸å®‰è£… Ghost æ—¶å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œæˆ‘çš„ blog ç°åœ¨å·²ç»æ¢æˆäº† httpsã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥é…ç½®è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ‰“å¼€ &lt;code&gt;/etc/httpd/conf.d/vhost.conf&lt;/code&gt; æ–‡ä»¶ï¼Œè¿™æ˜¯ CentOS ç³»ç»Ÿä¸‹ Apache2 çš„é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;VirtualHost *:443&amp;gt;
 # å…¶å®ƒå†…å®¹ï¼Œè¿™é‡Œä¸æ˜¾ç¤º
  &amp;lt;Location /react/server-render&amp;gt;
    ProxyPass http://localhost:2222
    ProxyPassReverse http://localhost:2222
 &amp;lt;/Location&amp;gt;
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;/react/react-render&lt;/code&gt; æ˜¯æˆ‘å­˜æ”¾é¡¹ç›®çš„è·¯å¾„ï¼Œ3000 ç«¯å£æ˜¯ node.js è¿è¡Œçš„æœåŠ¡å™¨ç«¯å£ &amp;#8211; æˆ‘ä½¿ç”¨äº† &lt;a href=&#34;https://github.com/Unitech/pm2&#34;&gt;PM2&lt;/a&gt; æ¥ç®¡ç†ç”Ÿäº§ç¯å¢ƒä¸­çš„ node.js é¡¹ç›®ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;sudo service httpd restart&lt;/code&gt; é‡å¯ Apache æœåŠ¡å™¨ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ‰€ä»¥ &lt;code&gt;ProxyPassReverse&lt;/code&gt; åšä»€ä¹ˆç”¨çš„ï¼Ÿè¿˜æ˜¯çœ‹&lt;a href=&#34;https://httpd.apache.org/docs/2.4/mod/mod_proxy.html#proxypassreverse&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;å§ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>React.js æœåŠ¡ç«¯æ¸²æŸ“</title>
      <link>https://www.zfanw.com/blog/react-js-server-render.html</link>
      <pubDate>Fri, 05 Feb 2016 14:01:43 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/react-js-server-render.html</guid>
      <description>&lt;div id=&#34;toc_container&#34; class=&#34;ml-l u-floatRight pure-u-1-1 pure-u-sm-2-5 toc_white no_bullets&#34;&gt;
  &lt;nav id=&#34;myaffix&#34;&gt;
  
  &lt;p class=&#34;toc-title&#34;&gt;
    ç›®å½•
  &lt;/p&gt;
  
  &lt;ul class=&#34;toc-list nav&#34; role=&#34;menu&#34;&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#renderToString&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;1&lt;/span&gt; renderToString&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;2&lt;/span&gt; å‡†å¤‡å·¥ä½œ&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i-2&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;3&lt;/span&gt; æŒ‰éƒ¨å°±ç­&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#_bundlejs&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;4&lt;/span&gt; æ„å»º bundle.js&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;&lt;/nav&gt;
&lt;/div&gt;

&lt;div class=&#34;&#34;&gt;
  &lt;p&gt;
    æ˜¯å¦å¤šæ­¤ä¸€ä¸¾ï¼Ÿ
  &lt;/p&gt;
  
  &lt;p&gt;
    æ¯•ç«Ÿï¼Œä»æœåŠ¡ç«¯æ¸²æŸ“èµ°åˆ°å®¢æˆ·ç«¯æ¸²æŸ“è¿™ä¸€æ­¥ï¼Œå‰ç«¯ç•Œå¯èŠ±äº†ä¸å°‘æ—¶é—´ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    å¦‚æœä½ å¯¹æœåŠ¡ç«¯æ¸²æŸ“çš„å¿…è¦æ€§å¿ƒå­˜ç–‘è™‘ï¼Œä¸å¦¨å…ˆçœ‹çœ‹&lt;a href=&#34;http://alistapart.com/article/interaction-is-an-enhancement&#34;&gt;è¿™ä¸€ç¯‡&lt;/a&gt;æ–‡ç« ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    ä½†æˆ‘è¿˜æ˜¯åœ¨è¿™å„¿ç®€å•ä»‹ç»ä¸‹ï¼Œä¸ºä»€ä¹ˆè¿™äº›å®¢æˆ·ç«¯æ¸²æŸ“çš„æ¡†æ¶ä»¬è¦è¸å…¥æœåŠ¡ç«¯æ¸²æŸ“çš„é¢†åŸŸã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    åœ¨å®¢æˆ·ç«¯æ¸²æŸ“æ—¶ï¼Œæˆ‘ä»¬çš„é¡µé¢é€šå¸¸å¾ˆç®€æ´ï¼Œæ¯”å¦‚ï¼Œä½ å¯èƒ½è§è¿‡è¿™æ ·çš„ HTML æ–‡ä»¶ï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;&amp;lt;!doctype html&amp;gt;
&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;è¿™æ˜¯é™ˆä¸‰&amp;lt;/title&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;script src=&#39;http://code.jquery.com/jquery-2.1.4.min.js&#39;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;script src=&#39;http://example.com/test.bundle.js&#39;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    é™ˆä¸‰åœ¨æ‰“å¼€è¿™ä¸ªé¡µé¢åï¼Œæµè§ˆå™¨ä¼šåŠ è½½ï¼š
  &lt;/p&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      jquery-2.1.4.min.js
    &lt;/li&gt;
    &lt;li&gt;
      test.bundle.js
    &lt;/li&gt;
  &lt;/ol&gt;
  
  &lt;p&gt;
    åœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶åŠ è½½å®Œæˆå¹¶æ‰§è¡Œä»¥å‰ï¼Œé™ˆä¸‰åªèƒ½çœ‹åˆ°ä¸€ç‰‡ç©ºç™½ã€‚ç­‰äº†åæ¥ç§’åï¼Œé¡µé¢è¿˜æ²¡æœ‰åŠ¨é™ï¼Œé™ˆä¸‰æ‰¾æ¥ä¸“ä¸šäººå£«ï¼Œå“¦ï¼Œjquery-2.1.4.min.js æ–‡ä»¶ä¸çŸ¥é“æ€ä¹ˆå›äº‹ï¼ŒåŠ è½½å¤±è´¥ï¼Œå¯¼è‡´ test.bundle.js æ— æ³•æ„å»º HTML ä»£ç ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    å®é™…ä¸Šï¼š
  &lt;/p&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      ä»»ä½• js ä»£ç é—®é¢˜éƒ½å¯èƒ½å¯¼è‡´é™ˆä¸‰çœ‹ä¸åˆ°é¡µé¢
    &lt;/li&gt;
    &lt;li&gt;
      æœç´¢å¼•æ“å¯èƒ½æ— æ³•ç´¢å¼•è¿™æ ·çš„é¡µé¢ï¼ˆå¯¹ï¼Œ&lt;a href=&#34;https://googlewebmastercentral.blogspot.com/2015/10/deprecating-our-ajax-crawling-scheme.html&#34;&gt;Google å¯ä»¥åšåˆ°&lt;/a&gt;ï¼Œä½†ä¸æ˜¯æ‰€æœ‰æœç´¢å¼•æ“éƒ½æ˜¯ Googleï¼‰
    &lt;/li&gt;
  &lt;/ol&gt;
  
  &lt;p&gt;
    é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥åšå¾—æ›´å¥½å—ï¼Ÿ
  &lt;/p&gt;
  
  &lt;p&gt;
    è¿™æ­£æ˜¯ Ember.jsã€Angular.js ç­‰åŠªåŠ›çš„æ–¹å‘ã€‚è¿™ä¸€ç¯‡ï¼Œåˆ™æ˜¯ä»‹ç» react.js åœ¨è¿™æ–¹é¢çš„æƒ…å†µã€‚
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;renderToString&#34;&gt;renderToString&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyrenderToString&#34; href=&#34;#renderToString&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    react å®˜ç½‘æ–‡æ¡£åœ¨æœåŠ¡ç«¯æ¸²æŸ“ä¸Š&lt;a href=&#34;https://facebook.github.io/react/docs/top-level-api.html#reactdomserver&#34;&gt;ç€å¢¨ä¸å¤š&lt;/a&gt;ï¼š
  &lt;/p&gt;
  
  &lt;blockquote&gt;
    &lt;p&gt;
      Render a ReactElement to its initial HTML. This should only be used on the server. React will return an HTML string. You can use this method to generate HTML on the server and send the markup down on the initial request for faster page loads and to allow search engines to crawl your pages for SEO purposes.
    &lt;/p&gt;
    
    &lt;p&gt;
      If you call ReactDOM.render() on a node that already has this server-rendered markup, React will preserve it and only attach event handlers, allowing you to have a very performant first-load experience.
    &lt;/p&gt;
  &lt;/blockquote&gt;
  
  &lt;p&gt;
    ç®€å•è¯´ï¼Œ&lt;code&gt;renderToString&lt;/code&gt; æ–¹æ³•åœ¨æœåŠ¡å™¨ä¸Šå…ˆæ¸²æŸ“å‡ºç»„ä»¶çš„ HTML ç»“æ„ï¼Œå®¢æˆ·ç«¯ä¸Š react åœ¨æ‰§è¡Œåˆ° &lt;code&gt;render()&lt;/code&gt; æ–¹æ³•æ—¶ï¼Œä¼šæ£€æŸ¥æ˜¯å¦æœ‰æœåŠ¡ç«¯æ¸²æŸ“è¿‡çš„ä»£ç ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä»…ä»…å¾€ä¸Šæ·»åŠ äº‹ä»¶å¤„ç†å™¨ã€‚æˆ‘ä»¬ä¸å¦¨è¿™æ ·è®¤ä¸ºï¼ŒåŸæ¥åœ¨å®¢æˆ·ç«¯è¦æ‰§è¡Œçš„ js ä»£ç è¢«æ‹†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼š
  &lt;/p&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      æ¸²æŸ“ HTML ç»“æ„
    &lt;/li&gt;
    &lt;li&gt;
      å¾€ HTML ç»“æ„ä¸Šé™„åŠ äº‹ä»¶å¤„ç†å™¨
    &lt;/li&gt;
  &lt;/ol&gt;
  
  &lt;p&gt;
    å‰è€…åœ¨æœåŠ¡ç«¯ä¸Šå®Œæˆï¼Œåè€…åœ¨å®¢æˆ·ç«¯ä¸Šå®Œæˆã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    é‚£ä¹ˆï¼Œæˆ‘ä»¬è¦æ€ä¹ˆå…¥æ‰‹ react.js æœåŠ¡ç«¯æ¸²æŸ“ï¼Ÿreact.js åˆæœŸå¼€å‘è€… Pete Hunt ç»™äº†äº›&lt;a href=&#34;https://github.com/petehunt/react-howto#learning-server-rendering&#34;&gt;å»ºè®®&lt;/a&gt;ï¼š
  &lt;/p&gt;
  
  &lt;blockquote&gt;
    &lt;p&gt;
      Server rendering still requires a lot of tooling to get right. Since it transparently supports React components written without server rendering in mind, you should build your app first and worry about server rendering later. You won&amp;#8217;t need to rewrite all of your components to support it.
    &lt;/p&gt;
  &lt;/blockquote&gt;
  
  &lt;p&gt;
    è¦åšæœåŠ¡ç«¯æ¸²æŸ“ï¼Œæˆ‘ä»¬è¦å¹²çš„äº‹è¿˜å¾ˆå¤šï¼Œä½†é€šå¸¸å¯ä»¥å…ˆæ„å»º appï¼Œå†æ¥å…³å¿ƒæœåŠ¡ç«¯æ¸²æŸ“ã€‚æˆ‘ä»¬å¹¶ä¸ä¼šéœ€è¦å…¨éƒ¨é‡å†™æ‰€æœ‰çš„ç»„ä»¶ã€‚
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i&#34;&gt;å‡†å¤‡å·¥ä½œ&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi&#34; href=&#34;#i&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    æˆ‘ä»¬è¦å…ˆè§£å†³ä»¥ä¸‹é—®é¢˜ï¼š
  &lt;/p&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      &lt;p&gt;
        server ç«¯ç”¨ä»€ä¹ˆæ¡†æ¶ï¼Ÿ
      &lt;/p&gt;
      
      &lt;p&gt;
        å¯¹å‰ç«¯å¼€å‘æ¥è¯´ï¼ŒåŸºäº node.js çš„æ¡†æ¶é€šå¸¸æ›´æ˜“äºä¸Šæ‰‹ï¼Œæ‰€ä»¥è¿™é‡Œé€‰ç”¨äº† &lt;a href=&#34;http://expressjs.com/&#34;&gt;expressjs&lt;/a&gt;ã€‚
      &lt;/p&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        è¦æ„å»ºå‡ºå‰ç«¯ä½¿ç”¨çš„ js æ–‡ä»¶ï¼Œè¦ç”¨ä»€ä¹ˆå·¥å…·ï¼Ÿ
      &lt;/p&gt;
      
      &lt;p&gt;
        ä¸è®ºæ˜¯ requirejs è¿˜æ˜¯ browserify æˆ– jspm éƒ½å¯ä»¥ç”¨ï¼Œè¿™é‡Œä½¿ç”¨ webpackã€‚
      &lt;/p&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        react.js åœ¨åç«¯ render æ—¶ï¼Œå¦‚æœè¦ç”¨ jsx è¯­æ³•ï¼Œè¦æ€ä¹ˆè§£å†³ï¼Ÿ
      &lt;/p&gt;
      
      &lt;p&gt;
        ä½¿ç”¨ &lt;a href=&#34;https://www.zfanw.com/blog/babel-6.html#babel-register&#34;&gt;babel-register&lt;/a&gt;ã€‚
      &lt;/p&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        å¦‚æœæˆ‘æƒ³ç”¨ es2015 è¯­æ³•å express.js ç¨‹åºï¼Œè¦æ€ä¹ˆåšï¼Ÿ
      &lt;/p&gt;
      
      &lt;p&gt;
        åŒç¬¬ 3 ç‚¹ã€‚
      &lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
  
  &lt;p&gt;
    æ¥ä¸‹æ¥å°±æ˜¯å®‰è£… reactã€react-domã€babelï¼Œå¹¶ä¸”é…ç½® babelï¼Œ&lt;a href=&#34;https://github.com/chenxsan/react-server-render/tree/810b2cd13ccdc9d59784e97f1937efe949de21ff&#34;&gt;ç‚¹å‡»æŸ¥çœ‹é¡¹ç›®ä»£ç &lt;/a&gt;ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    å¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å†™ä»£ç äº†ã€‚
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i-2&#34;&gt;æŒ‰éƒ¨å°±ç­&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi-2&#34; href=&#34;#i-2&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    é¦–å…ˆï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ª Home ç»„ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;import React from &#39;react&#39;
export default class Home extends React.Component {
  render () {
    return (&amp;lt;div&amp;gt;
              hello from é™ˆä¸‰ã€‚
            &amp;lt;/div&amp;gt;)
  }
}
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    è¿™ä¸ªç»„ä»¶ç›®å‰åªæ˜¯æ¸²æŸ“ä¸€æ®µ divã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    æ¥ä¸‹æ¥æ˜¯åœ¨ app.js æ–‡ä»¶ä¸­å¼•ç”¨å®ƒå¹¶æ¸²æŸ“æˆ HTMLï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;import express from &#39;express&#39;
import React from &#39;react&#39;
import ReactDOM from &#39;react-dom/server&#39;
import Home from &#39;./components/Home&#39;
let app = express()
app.get(&#39;/&#39;, (req, res) =&amp;gt; {
  res.send(ReactDOM.renderToString(React.createFactory(Home)()))
})
app.listen(3000, () =&amp;gt; {
  console.log(&#39;listen on 3000&#39;)
})

&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    è¿™é‡Œç”¨åˆ°çš„ä¸¤ä¸ªæ–¹æ³•ï¼š
  &lt;/p&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      &lt;a href=&#34;https://facebook.github.io/react/docs/top-level-api.html#reactdomserver.rendertostring&#34;&gt;renderToString&lt;/a&gt; &amp;#8211; å°†ç»„ä»¶æ¸²æŸ“æˆå­—ç¬¦ä¸²ã€‚
    &lt;/li&gt;
    &lt;li&gt;
      &lt;a href=&#34;https://facebook.github.io/react/docs/top-level-api.html#react.createfactory&#34;&gt;createFactory&lt;/a&gt; &amp;#8211; ç”Ÿæˆä¸€ä¸ªç»„ä»¶å·¥å‚æ–¹æ³•ï¼Œç”¨äºç”Ÿæˆç»„ä»¶ã€‚ä¹‹æ‰€ä»¥ç”¨å®ƒï¼Œæ˜¯å› ä¸º renderToString æ¥å—çš„å‚æ•°æ˜¯ ReactElement elementï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ jsx çš„å½¢å¼ &lt;code&gt;&amp;lt;Home /&amp;gt;&lt;/code&gt;ã€‚
    &lt;/li&gt;
  &lt;/ol&gt;
  
  &lt;p&gt;
    æ‰§è¡Œ &lt;code&gt;node index.js&lt;/code&gt; å‘½ä»¤ï¼Œå¯ä»¥åœ¨ http://localhost:3000 ç½‘å€çœ‹åˆ°ï¼š
  &lt;/p&gt;
  
  &lt;blockquote&gt;
    &lt;p&gt;
      hello from é™ˆä¸‰ã€‚
    &lt;/p&gt;
  &lt;/blockquote&gt;
  
  &lt;p&gt;
    ç‚¹å‡»&lt;a href=&#34;https://github.com/chenxsan/react-server-render/tree/82ab7be8078743c31fa2e92cf62d0ffd9af69ad6&#34;&gt;æŸ¥çœ‹è¿™ä¸€æ­¥çš„é¡¹ç›®ä»£ç &lt;/a&gt;ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬è¿˜æ²¡ç»™ç»„ä»¶æ·»åŠ ä»»ä½•äº¤äº’è¡Œä¸ºï¼Œæ¯”å¦‚ç‚¹å‡»ä¸€ä¸‹ï¼Œ&lt;strong&gt;å­—ä½“é¢œè‰²å˜åŒ–&lt;/strong&gt;ã€‚ä¸‹é¢æˆ‘ä»¬å°±æ¥å°è¯•ç»™ Home ç»„ä»¶æ·»åŠ è¿™ä¸€äº¤äº’ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    æˆ‘ä»¬å°† Home ç»„ä»¶æ”¹é€ å¦‚ä¸‹ï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;import React from &#39;react&#39;
export default class Home extends React.Component {
  constructor (props) {
    super(props)
    this.clickToChangeColor = this.clickToChangeColor.bind(this)
    this.state = {
      color: &#39;#&#39; + (Math.random() * 0xFFFFFF &amp;lt;&amp;lt; 0).toString(16)
    }
  }
  clickToChangeColor (e) {
    this.setState({
      color: &#39;#&#39; + (Math.random() * 0xFFFFFF &amp;lt;&amp;lt; 0).toString(16)
    })
  }
  render () {
    return (&amp;lt;div onClick={this.clickToChangeColor} style={{color: this.state.color}}&amp;gt;
              hello from é™ˆä¸‰ã€‚
            &amp;lt;/div&amp;gt;)
  }
}

&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    ç°åœ¨ç‚¹å‡» div å—ï¼Œå­—ä½“é¢œè‰²å¹¶ä¸ä¼šå‡ºç°ä»»ä½•å˜åŒ–ï¼Œå› ä¸ºï¼Œç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨åç«¯æ¸²æŸ“äº† HTML ç»“æ„ï¼Œäº‹ä»¶ç»‘å®šç­‰å·¥ä½œï¼Œè¦åœ¨å‰ç«¯ä¸Šå®Œæˆã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    ä½†ç°åœ¨ï¼Œæˆ‘ä»¬è¿˜åªæ˜¯ç®€å•çš„ç”Ÿæˆä¸€ä¸ªé¡µé¢ï¼Œåªæœ‰ä¸€ä¸ª &lt;code&gt;div&lt;/code&gt; å—ï¼Œæ²¡æœ‰ &lt;code&gt;html&lt;/code&gt; æ ‡ç­¾ï¼Œæ²¡æœ‰ &lt;code&gt;meta&lt;/code&gt; æ ‡ç­¾ï¼Œä¹Ÿæ²¡æœ‰å¼•ç”¨ä»»ä½•è„šæœ¬ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®Œæ•´çš„é¡µé¢ï¼Œè¿™é‡Œï¼Œä½¿ç”¨ &lt;a href=&#34;http://expressjs.com/en/guide/using-template-engines.html&#34;&gt;jade æ¨¡æ¿å¼•æ“&lt;/a&gt;æ¥ç”Ÿæˆé¡µé¢ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    æˆ‘ä»¬åœ¨ views ç›®å½•ä¸‹å¢åŠ ä¸€ä¸ª &lt;code&gt;index.jade&lt;/code&gt; æ¨¡æ¿ï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;doctype html
html
    head
        title=&#39;react æœåŠ¡ç«¯æ¸²æŸ“&#39;
        meta(charset=&#39;utf-8&#39;)
    body
        #root!= react
        script(src=&#39;/bundle.js&#39;)
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    app.js å†…å®¹ä¿®æ”¹æˆï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;import express from &#39;express&#39;
import React from &#39;react&#39;
import ReactDOM from &#39;react-dom/server&#39;
import Home from &#39;./components/Home&#39;
let app = express()
app.use(express.static(&#39;public&#39;))
app.set(&#39;views&#39;, &#39;./views&#39;)
app.set(&#39;view engine&#39;, &#39;jade&#39;)
let html = ReactDOM.renderToString(React.createFactory(Home)())
app.get(&#39;/&#39;, (req, res) =&amp;gt; {
  res.render(&#39;index&#39;, {react: html})
})
app.listen(3000, () =&amp;gt; {
  console.log(&#39;listen on 3000&#39;)
})
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰ä¸€ä¸ªå« &lt;code&gt;bundle.js&lt;/code&gt; çš„æ–‡ä»¶ï¼Œå®ƒå°†ç”± webpack æ¥æ„å»ºã€‚
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;_bundlejs&#34;&gt;æ„å»º bundle.js&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;hey_bundlejs&#34; href=&#34;#_bundlejs&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    å¦‚æœå¯¹ webpack çš„æ„å»ºä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å…ˆçœ‹çœ‹ &lt;a href=&#34;https://www.zfanw.com/blog/webpack-tutorial.html&#34;&gt;æˆ‘å†™çš„ webpack æ•™ç¨‹&lt;/a&gt;ã€‚è¿™é‡Œè·³è¿‡å®‰è£… webpackã€babel ç­‰æ­¥éª¤ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    ä¸Šé¢è¯´åˆ°çš„ app.js æ˜¯æœåŠ¡ç«¯çš„å…¥å£æ–‡ä»¶ï¼Œå‰ç«¯ä¸ŠåŒæ ·éœ€è¦ä¸€ä¸ªå…¥å£ï¼Œä¸”æŠŠå®ƒå« client.jsï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;import Home from &#39;./components/Home&#39;
import ReactDOM from &#39;react-dom&#39;
import React from &#39;react&#39;
ReactDOM.render(&amp;lt;Home /&amp;gt;, document.getElementById(&#39;root&#39;))
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    å¦å¤–ï¼Œæˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ª webpack.config.js æ–‡ä»¶ï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;var path = require(&#39;path&#39;)
module.exports = {
  entry: &#39;./src/client&#39;,
  output: {
    filename: &#39;bundle.js&#39;,
    path: path.join(__dirname, &#39;public&#39;)
  },
  module: {
    loaders: [
      {test: /\.js$/,
        loaders: [&#39;babel?presets[]=react,presets[]=es2015&#39;],
        include: [path.join(__dirname, &#39;src&#39;)]
      }
    ]
  }
}
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ &lt;code&gt;webpack&lt;/code&gt;ï¼Œæˆ‘ä»¬å°±ä¼šå¾—åˆ° &lt;code&gt;public/bundle.js&lt;/code&gt;ï¼Œåˆ·æ–°æˆ‘ä»¬çš„ä¸»é¡µï¼Œç‚¹å‡» div å°±èƒ½çœ‹åˆ°æ–‡å­—çš„é¢œè‰²åœ¨æ”¹å˜äº†ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    å°±è¿™æ ·ï¼Œæˆ‘ä»¬å®Œæˆäº†ä¸€è¶Ÿè½»æ¾ã€ç®€å•çš„ react.js æœåŠ¡ç«¯æ¸²æŸ“ä¹‹æ—…ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    å¦‚æœå¯¹å®Œæ•´çš„ä»£ç æœ‰å…´è¶£ï¼Œè¯·ç‚¹å‡» &lt;a href=&#34;https://github.com/chenxsan/react-server-render&#34;&gt;github ä¸Šçš„ react-server-render ä»“åº“&lt;/a&gt;ï¼Œè¿˜å¯ä»¥ç‚¹å‡»&lt;a href=&#34;https://www.zfanw.com/react/server-render/&#34;&gt;ç¤ºä¾‹&lt;/a&gt;æŸ¥çœ‹æœ€ç»ˆæ•ˆæœã€‚
  &lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>babel 6 æ•™ç¨‹</title>
      <link>https://www.zfanw.com/blog/babel-6.html</link>
      <pubDate>Fri, 29 Jan 2016 10:25:05 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/babel-6.html</guid>
      <description>&lt;div id=&#34;toc_container&#34; class=&#34;ml-l u-floatRight pure-u-1-1 pure-u-sm-2-5 toc_white no_bullets&#34;&gt;
  &lt;nav id=&#34;myaffix&#34;&gt;
  
  &lt;p class=&#34;toc-title&#34;&gt;
    ç›®å½•
  &lt;/p&gt;
  
  &lt;ul class=&#34;toc-list nav&#34; role=&#34;menu&#34;&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#babel-cli&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;1&lt;/span&gt; babel-cli&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#babel&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;2&lt;/span&gt; babel æ’ä»¶&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;3&lt;/span&gt; é¢„ç½®å¥—é¤&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#babel-polyfill&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;4&lt;/span&gt; babel-polyfill&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#babel-runtime&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;5&lt;/span&gt; babel-runtime&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#webpack_babel-loader&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;6&lt;/span&gt; webpack ä¸­å®šä¹‰ babel-loader&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#babel-register&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;7&lt;/span&gt; babel-register&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i-2&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;8&lt;/span&gt; æ‰©å±•é˜…è¯»&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;&lt;/nav&gt;
&lt;/div&gt;

&lt;div class=&#34;&#34;&gt;
  &lt;p&gt;
    babel 5.x -&gt; 6.x çš„å˜åŒ–éå¸¸å¤§ï¼Œè®¸å¤šæ¨¡å—åˆ†ç¦»å‡ºå»ï¼Œåªæ˜¯ä¸€äº›æ–‡æ¡£è¿˜è¯­ç„‰ä¸è¯¦ï¼Œè¿™é‡Œç•¥ä½œæ•´ç†ã€‚
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;babel-cli&#34;&gt;babel-cli&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heybabel-cli&#34; href=&#34;#babel-cli&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    å¦‚æœä½ ç”¨è¿‡ CoffeeScriptï¼Œæˆ– TypeScriptï¼Œé‚£ä½ å¯¹å®ƒä»¬çš„ç¼–è¯‘è¿‡ç¨‹ä¸€å®šå¾ˆç†Ÿæ‚‰ï¼Œ&lt;a href=&#34;https://babeljs.io/docs/usage/cli/&#34;&gt;babel-cli&lt;/a&gt; æ¨¡å—åŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ªç¼–è¯‘çš„ä½œç”¨ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    æ¯”å¦‚æœ‰ä¸€ä¸ª test.js æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;let fun = () =&amp;gt; console.log(&#39;babel&#39;)
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    é‚£ä¹ˆæ‰§è¡Œ &lt;code&gt;babel test.js&lt;/code&gt;ï¼Œä¼šè¾“å‡ºä»¥ä¸‹å†…å®¹ï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;&#34;use strict&#34;;

var fun = function fun() {
  return console.log(&#39;babel&#39;);
};
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    é™¤äº† &lt;code&gt;babel&lt;/code&gt; å‘½ä»¤å¤–ï¼Œbabel-cli åŒ…å¦æœ‰ä¸€ä¸ª &lt;code&gt;babel-node&lt;/code&gt; å‘½ä»¤ï¼Œå®ƒè¿‘ä¼¼äº nodeï¼Œåªä¸è¿‡å®ƒåœ¨è¿è¡Œä»£ç å‰ä¼šé¢„å…ˆç¼–è¯‘ ES2015 çš„ä»£ç ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    ä¸è®ºæ˜¯ &lt;code&gt;babel&lt;/code&gt; å‘½ä»¤è¿˜æ˜¯ &lt;code&gt;babel-node&lt;/code&gt; å‘½ä»¤ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°ä¿®æ”¹å®ƒä»¬çš„è¡Œä¸ºï¼Œè¿˜å¯ä»¥é€šè¿‡æ–°å»ºä¸€ä¸ª &lt;code&gt;.babelrc&lt;/code&gt; æ–‡ä»¶æ¥é…ç½®ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    ä½†ä»¥ä¸Šæ˜¯ babel 5.x çš„ç”¨æ³•ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    å¦‚æœåœ¨ babel 6 é‡Œï¼Œæ‰§è¡Œ &lt;code&gt;babel test.js&lt;/code&gt;ï¼Œåªä¼šè¾“å‡ºåŸæ ·çš„æ–‡æœ¬ï¼Œå› ä¸º &lt;code&gt;babel&lt;/code&gt; ä¸å†åŒ…å«ä»»ä½• transform åŠŸèƒ½ï¼Œbabel 6 é‡ŒæŠŠå®ƒä»¬ä½œä¸ºæ’ä»¶ï¼ˆpluginï¼‰åˆ†å‰²å‡ºå»ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å®šä¹‰ï¼Œè§ä¸‹æ–‡è¯´æ˜ã€‚
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;babel&#34;&gt;babel æ’ä»¶&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heybabel&#34; href=&#34;#babel&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    åœ¨ babel 6 é‡Œï¼Œè¦è½¬æ¢ ES2015 çš„ä»£ç ï¼Œéœ€è¦è‡ªå·±é…ç½®æ’ä»¶ï¼Œæ¯”å¦‚ä¸Šé¢çš„ç¤ºä¾‹ï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;let fun = () =&amp;gt; console.log(&#39;babel&#39;)
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    æˆ‘ä»¬æ‰§è¡Œ &lt;code&gt;babel test.js&lt;/code&gt;ï¼Œbabel ä¸ä¼šå¯¹æ–‡ä»¶åšä»»ä½•è½¬æ¢ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ª &lt;a href=&#34;http://babeljs.io/docs/plugins/transform-es2015-arrow-functions/&#34;&gt;ES2015 arrow functions transform&lt;/a&gt; æ’ä»¶ã€‚
  &lt;/p&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      &lt;p&gt;
        å®‰è£…æ’ä»¶
      &lt;/p&gt;
      
      &lt;pre&gt;&lt;code&gt;npm install babel-plugin-transform-es2015-arrow-functions
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        åœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª .babelrc æ–‡ä»¶ï¼Œç”¨äºé…ç½® babelï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š
      &lt;/p&gt;
      
      &lt;pre&gt;&lt;code&gt;{
  &#34;plugins&#34;: [&#34;transform-es2015-arrow-functions&#34;]
}
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        å†æ‰§è¡Œ &lt;code&gt;babel test.js&lt;/code&gt;ï¼Œæˆ‘ä»¬å¾—åˆ°å¦‚ä¸‹è½¬æ¢ç»“æœï¼š
      &lt;/p&gt;
      
      &lt;pre&gt;&lt;code&gt;let fun = function () {
  return console.log(&#39;babel&#39;);
};
&lt;/code&gt;&lt;/pre&gt;
      
      &lt;p&gt;
        åŸºæœ¬ä¸Š ES2015/ES7 çš„å„ç§åŠŸèƒ½ï¼Œbabel éƒ½æä¾›äº†ç›¸åº”çš„æ’ä»¶ç”¨äºè½¬æ¢ï¼Œä½†å¦‚æœæˆ‘ä»¬è¦ä¸€ä¸ªä¸€ä¸ªé…ç½® &amp;#8211; é‚£å°±å¤ªæ¼äººäº†ã€‚æ‰€ä»¥ babel è¿˜æä¾›äº†ä¸€ä¸ªæ–¹æ³•ï¼špresetsã€‚
      &lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i&#34;&gt;é¢„ç½®å¥—é¤&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi&#34; href=&#34;#i&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    æˆ‘ä»¬ä¸å¦¨æŠŠ presets ç†è§£ä¸ºå¥—é¤ï¼Œä¸åŒå¥—é¤æœ‰ä¸åŒçš„æ’ä»¶ç»„åˆï¼Œæ¯”å¦‚ &lt;a href=&#34;http://babeljs.io/docs/plugins/preset-es2015/&#34;&gt;ES2015 preset&lt;/a&gt; é‡Œæ‰“åŒ…äº†æ‰€æœ‰ç”¨äºè½¬æ¢ ES2015 ä»£ç çš„æ’ä»¶ï¼Œ&lt;a href=&#34;http://babeljs.io/docs/plugins/preset-react/&#34;&gt;React preset&lt;/a&gt; åˆ™æ‰“åŒ…äº†è½¬æ¢ react.js jsx è¯­æ³•çš„æ’ä»¶ã€‚å®ƒä»¬çš„ç”¨æ³•åŒä¸Šé¢ä¸€è‡´ï¼š
  &lt;/p&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      &lt;p&gt;
        å®‰è£… preset
      &lt;/p&gt;
      
      &lt;pre&gt;&lt;code&gt;npm install babel-preset-es2015
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        é…ç½® .babelrc æ–‡ä»¶
      &lt;/p&gt;
      
      &lt;pre&gt;&lt;code&gt;{
  &#34;presets&#34;: [&#34;es2015&#34;]
}
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        å†æ‰§è¡Œ &lt;code&gt;babel test.js&lt;/code&gt;ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸ babel 5.x ä¸€æ ·çš„è½¬æ¢ç»“æœï¼š
      &lt;/p&gt;
      
      &lt;pre&gt;&lt;code&gt;&#39;use strict&#39;;
var fun = function fun() {
  return console.log(&#39;babel&#39;);
};
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;babel-polyfill&#34;&gt;babel-polyfill&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heybabel-polyfill&#34; href=&#34;#babel-polyfill&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    babel è™½ç„¶å¯ä»¥è½¬æ¢å„ç§ ES2015 è¯­æ³•åŠ jsxï¼Œä½†æµè§ˆå™¨æœªæä¾›åŸç”Ÿæ”¯æŒçš„è®¸å¤šåŠŸèƒ½è¿˜æ˜¯éœ€è¦ polyfillï¼Œæ¯”å¦‚ Promiseã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    æˆ‘ä»¬åªè¦åœ¨ä»£ç ä¸­å¼•å…¥ babel-polyfill å°±å¯ä»¥æ¨¡æ‹Ÿå‡ºä¸€ä¸ª ES2015 çš„ç¯å¢ƒï¼Œç”¨æ³•å¦‚ä¸‹ï¼š
  &lt;/p&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      &lt;p&gt;
        å®‰è£… &lt;code&gt;babel-polyfill&lt;/code&gt;
      &lt;/p&gt;
      
      &lt;pre&gt;&lt;code&gt;npm install babel-polyfill --save
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        åœ¨å…¥å£æ–‡ä»¶ä¸­å¼•ç”¨ï¼š
      &lt;/p&gt;
      
      &lt;pre&gt;&lt;code&gt;import babel-polyfill
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;babel-runtime&#34;&gt;babel-runtime&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heybabel-runtime&#34; href=&#34;#babel-runtime&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    ä¸ babel-polyfill ä¸€æ ·ï¼Œbabel-runtime çš„ä½œç”¨ä¹Ÿæ˜¯æ¨¡æ‹Ÿ ES2015 ç¯å¢ƒã€‚åªä¸è¿‡ï¼Œbabel-polyfill æ˜¯é’ˆå¯¹å…¨å±€ç¯å¢ƒçš„ï¼Œå¼•å…¥å®ƒï¼Œæˆ‘ä»¬çš„æµè§ˆå™¨å°±å¥½åƒå…·å¤‡äº†è§„èŒƒé‡Œå®šä¹‰çš„å®Œæ•´çš„ç‰¹æ€§ &amp;#8211; è™½ç„¶åŸç”Ÿå¹¶æœªå®ç°ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    babel-runtime æ›´åƒæ˜¯åˆ†æ•£çš„ polyfill æ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è‡ªå·±çš„æ¨¡å—é‡Œå•ç‹¬å¼•å…¥ï¼Œæ¯”å¦‚ &lt;code&gt;require(â€˜babel-runtime/core-js/promiseâ€™)&lt;/code&gt; ï¼Œå®ƒä»¬ä¸ä¼šåœ¨å…¨å±€ç¯å¢ƒæ·»åŠ æœªå®ç°çš„æ–¹æ³•ï¼Œåªæ˜¯ï¼Œè¿™æ ·æ‰‹åŠ¨å¼•ç”¨æ¯ä¸ª polyfill ä¼šéå¸¸ä½æ•ˆã€‚æˆ‘ä»¬å€ŸåŠ© &lt;a href=&#34;http://babeljs.io/docs/plugins/transform-runtime/&#34;&gt;Runtime transform&lt;/a&gt; æ’ä»¶æ¥è‡ªåŠ¨åŒ–å¤„ç†è¿™ä¸€åˆ‡ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    è‡³äºè¦ç”¨ babel-polyfill è¿˜æ˜¯ babel-runtimeï¼Œåˆ™éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªåº“é‡Œå¼•ç”¨äº† babel-polyfillï¼Œåˆ«äººçš„åº“ä¹Ÿå¼•ç”¨äº† babel-polyfillï¼Œæˆ‘ä»¬å¾ˆå¯èƒ½ä¼šè·‘ä¸¤ä¸ª babel-polyfill å®ä¾‹ï¼Œè¿™é‡Œï¼Œä½¿ç”¨ babel-runtime ä¼šæ›´åˆé€‚ã€‚
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;webpack_babel-loader&#34;&gt;webpack ä¸­å®šä¹‰ babel-loader&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heywebpack_babel-loader&#34; href=&#34;#webpack_babel-loader&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    åœ¨ &lt;code&gt;webpack.config.js&lt;/code&gt; é‡Œè¿™æ ·å®šä¹‰ï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;module: {
  loaders:  [
    {
      test: /\.js/,
      loader: &#39;babel?presets[]=es2015,presets[]=react,plugins[]=transform-runtime&#39;
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;babel-register&#34;&gt;babel-register&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heybabel-register&#34; href=&#34;#babel-register&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    &lt;a href=&#34;https://babeljs.io/docs/usage/require/&#34;&gt;babel-register&lt;/a&gt; æ˜¯æ”¾åœ¨ node é‡Œä½¿ç”¨çš„ã€‚å®ƒçš„ä½œç”¨æ˜¯æ›¿ä»£ node çš„ &lt;code&gt;require&lt;/code&gt; å‘½ä»¤ï¼Œä¸ node è‡ªèº«çš„ &lt;code&gt;require&lt;/code&gt; ä¸åŒï¼Œå®ƒå¯ä»¥åŠ è½½ es2015ã€jsx ç­‰ç±»å‹æ–‡ä»¶ã€‚
  &lt;/p&gt;
  
  &lt;p&gt;
    ç”¨æ³•å¦‚ä¸‹ï¼š
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;require(&#39;babel-register&#39;)({presets: [&#39;es2015&#39;, &#39;react&#39;]})
require(&#39;./app&#39;)
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    è¿™æ ·æˆ‘ä»¬åœ¨ app æ–‡ä»¶ä¸­å°±å¯ä»¥ä½¿ç”¨ es2015 ä¸ jsx è¯­æ³•äº†ã€‚
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i-2&#34;&gt;æ‰©å±•é˜…è¯»&lt;/span&gt;&lt;a title=&#34;æ ‡é¢˜é“¾æ¥åœ°å€&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi-2&#34; href=&#34;#i-2&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      &lt;a href=&#34;https://medium.com/@jcse/clearing-up-the-babel-6-ecosystem-c7678a314bf3#a7d5&#34;&gt;Clearing up the Babel 6 Ecosystem&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>