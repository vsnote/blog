<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Apache on 陈三</title>
    <link>https://www.zfanw.com/blog/tags/apache/</link>
    <description>Recent content in Apache on 陈三</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Sun, 07 Feb 2016 04:05:35 +0000</lastBuildDate>
    <atom:link href="https://www.zfanw.com/blog/tags/apache/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Apache 代理 Node.js 服务器</title>
      <link>https://www.zfanw.com/blog/apache-proxy-node-js.html</link>
      <pubDate>Sun, 07 Feb 2016 04:05:35 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/apache-proxy-node-js.html</guid>
      <description>&lt;p&gt;我在&lt;a href=&#34;https://www.zfanw.com/blog/linode-vps-install-ghost.html#_Apache_Ghost&#34;&gt;安装 Ghost 博客&lt;/a&gt;时，需要转发 Apache 请求给 node.js 服务器，当时为了快速搞定，找了些资料，拷了些配置，看它可以运行，也就没再搭理。&lt;/p&gt;

&lt;p&gt;说来，我根本不知道为什么要加个 &lt;code&gt;ProxyPassReverse&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;前些天写的 blog &lt;a href=&#34;https://www.zfanw.com/blog/react-js-server-render.html&#34;&gt;React.js 服务端渲染&lt;/a&gt;里，同样需要让示例在服务器上运行。与安装 Ghost 时唯一的区别是，我的 blog 现在已经换成了 https。&lt;/p&gt;

&lt;p&gt;所以配置过程是这样的：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;打开 &lt;code&gt;/etc/httpd/conf.d/vhost.conf&lt;/code&gt; 文件，这是 CentOS 系统下 Apache2 的配置文件路径，添加以下内容：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;VirtualHost *:443&amp;gt;
 # 其它内容，这里不显示
  &amp;lt;Location /react/server-render&amp;gt;
    ProxyPass http://localhost:2222
    ProxyPassReverse http://localhost:2222
 &amp;lt;/Location&amp;gt;
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;/react/react-render&lt;/code&gt; 是我存放项目的路径，3000 端口是 node.js 运行的服务器端口 &amp;#8211; 我使用了 &lt;a href=&#34;https://github.com/Unitech/pm2&#34;&gt;PM2&lt;/a&gt; 来管理生产环境中的 node.js 项目。&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;sudo service httpd restart&lt;/code&gt; 重启 Apache 服务器。&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;所以 &lt;code&gt;ProxyPassReverse&lt;/code&gt; 做什么用的？还是看&lt;a href=&#34;https://httpd.apache.org/docs/2.4/mod/mod_proxy.html#proxypassreverse&#34;&gt;官方文档&lt;/a&gt;吧。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>openSUSE 的 Apache 配置</title>
      <link>https://www.zfanw.com/blog/apache-under-opensuse.html</link>
      <pubDate>Thu, 27 Nov 2014 22:26:32 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/apache-under-opensuse.html</guid>
      <description>&lt;div id=&#34;toc_container&#34; class=&#34;ml-l u-floatRight pure-u-1-1 pure-u-sm-2-5 toc_white no_bullets&#34;&gt;
  &lt;nav id=&#34;myaffix&#34;&gt;
  
  &lt;p class=&#34;toc-title&#34;&gt;
    目录
  &lt;/p&gt;
  
  &lt;ul class=&#34;toc-list nav&#34; role=&#34;menu&#34;&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#DNS_A&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;1&lt;/span&gt; DNS 绑定 A 记录&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;2&lt;/span&gt; 创建站点目录&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#_Apache&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;3&lt;/span&gt; 配置 Apache&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;&lt;/nav&gt;
&lt;/div&gt;

&lt;div class=&#34;&#34;&gt;
  &lt;p&gt;
    我的目的，是在 openSUSE 13.1 系统下，配置 Apache 服务器绑定 &lt;a href=&#34;http://en.zfanw.com&#34; title=&#34;陈三的英文博客&#34;&gt;en.zfanw.com&lt;/a&gt; 域名。
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;DNS_A&#34;&gt;DNS 绑定 A 记录&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyDNS_A&#34; href=&#34;#DNS_A&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    首先在 DNS 上创建 A 记录，将域名绑定到相应 IP 上。
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i&#34;&gt;创建站点目录&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi&#34; href=&#34;#i&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    在服务器上，添加 &lt;em&gt;/srv/www/vhosts/en.zfanw.com&lt;/em&gt; 目录，并在该目录下创建一个 index.html 文件 &amp;#8211; 用于测试。
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;_Apache&#34;&gt;配置 Apache&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;hey_Apache&#34; href=&#34;#_Apache&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;h3&gt;
    创建虚拟主机配置文件
  &lt;/h3&gt;
  
  &lt;pre&gt;&lt;code&gt;$ cd /etc/apache2/vhosts.d
$ sudo cp vhost.template en.zfanw.com.conf
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    修改 en.zfanw.com.conf 文件内容如下：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;&amp;lt;VirtualHost *:80&amp;gt;
    ServerName en.zfanw.com
    ServerAdmin chenxsan@gmail.com

    DocumentRoot /srv/www/vhosts/en.zfanw.com

    ErrorLog /var/log/apache2/en.zfanw.com-error_log
    CustomLog /var/log/apache2/en.zfanw.com-access_log combined

    # don&#39;t loose time with IP address lookups
    HostnameLookups Off

    # needed for named virtual hosts
    UseCanonicalName Off

    # configures the footer on server-generated documents
    ServerSignature On

    #
    # This should be changed to whatever you set DocumentRoot to.
    #
    &amp;lt;Directory &#34;/srv/www/vhosts/en.zfanw.com&#34;&amp;gt;
        AllowOverride All
        Options FollowSymLinks

        Order allow,deny
        Allow from all

    &amp;lt;/Directory&amp;gt;

&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    之后重启 Apache：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;$ sudo rcapache2 restart
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    访问 en.zfanw.com 网址，已经可以看到 index.html 文件的内容了。如果我们之前未添加 index.html 文件，访问的话，则会出现如下错误信息：
  &lt;/p&gt;
  
  &lt;blockquote&gt;
    &lt;p&gt;
      Access forbidden!
    &lt;/p&gt;
    
    &lt;p&gt;
      You don&amp;#8217;t have permission to access the requested directory. There is either no index document or the directory is read-protected.
    &lt;/p&gt;
    
    &lt;p&gt;
      If you think this is a server error, please contact the webmaster.
    &lt;/p&gt;
    
    &lt;p&gt;
      Error 403
    &lt;/p&gt;
    
    &lt;p&gt;
      en.zfanw.com
    &lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>WordPress 插件更新失败</title>
      <link>https://www.zfanw.com/blog/wordpress-fail-to-update-plugin.html</link>
      <pubDate>Fri, 14 Nov 2014 05:24:37 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/wordpress-fail-to-update-plugin.html</guid>
      <description>

&lt;p&gt;在我升级 WordPress 插件时，碰到如下错误：&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Downloading update from &lt;a href=&#34;https://downloads.wordpress.org/plugin/akismet.3.0.3.zip…&#34;&gt;https://downloads.wordpress.org/plugin/akismet.3.0.3.zip…&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unpacking the update…&lt;/p&gt;

&lt;p&gt;Could not create directory.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;原因是 WordPress 没有权限创建新文件夹。&lt;/p&gt;

&lt;h2 id=&#34;解决办法&#34;&gt;解决办法&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;终端窗口执行 &lt;code&gt;ls -l&lt;/code&gt; 命令&lt;/p&gt;

&lt;p&gt;查看 &lt;em&gt;wp-content&lt;/em&gt; 目录当前所有者（owner）与所属的组（group），结果是 _sam : users_。&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;查看 Apache 服务的所有者（owner）：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ps aux | grep apache
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;我的 openSUSE 13.2 上显示 &lt;strong&gt;wwwrun&lt;/strong&gt;，与第一步得到的用户不一样。我们&lt;strong&gt;需要修改 wp-content 的所有者与组&lt;/strong&gt;。&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;执行如下命令查看 wwwrun 用户所属的组：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ groups wwwrun
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;用户 wwwrun 属于 www 组。&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;修改 wp-content 目录的所有者与组：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo chown -R wwwrun:www wp-content
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;接下来就能成功更新插件。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>WordPress 图片上传问题</title>
      <link>https://www.zfanw.com/blog/wordpress-upload-image-problem.html</link>
      <pubDate>Wed, 05 Nov 2014 11:24:34 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/wordpress-upload-image-problem.html</guid>
      <description>&lt;p&gt;博客从虚拟主机迁到 VPS 后，开始水土不服，曝各种问题 &amp;#8211; 当然，水土不服是屁话，WordPress 运行环境不一样，各种配置需要做调整才是真的。&lt;/p&gt;

&lt;p&gt;比如这 WordPress 后台上传图片的问题：&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;There are no HTTP transports available which can complete the requested request.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;有人说是缺少 &lt;em&gt;php5-curl&lt;/em&gt; 模块的缘故，我服务器系统跑的是 openSUSE 13.1 64位，检查 &lt;em&gt;php5-curl&lt;/em&gt; 的情况：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;zypper info php5-curl
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;输出结果如下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Information for package php5-curl:
----------------------------------
Repository: openSUSE-13.1-Update
Name: php5-curl
Version: 5.4.20-30.1
Arch: i586
Vendor: openSUSE
Installed: No
Status: not installed
Installed Size: 70.2 KiB
Summary: PHP5 Extension Module
Description: 
PHP interface to libcurl that allows you to connect to and communicate
with servers of many different types, using protocols of many different
types.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;请注意 &lt;strong&gt;Installed: No&lt;/strong&gt;，确实未曾安装。&lt;/p&gt;

&lt;p&gt;且安装一下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo zypper install php5-curl
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;然后重启服务器上的 Apache：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo /usr/sbin/rcapache2 restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;之后图片就可以上传，不再报错。有些人说要改 php.ini 文件配置，我的情况则不需要。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>如何安装使用 Apache mod_deflate 模块</title>
      <link>https://www.zfanw.com/blog/apache-mod_deflate.html</link>
      <pubDate>Fri, 31 Oct 2014 14:20:58 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/apache-mod_deflate.html</guid>
      <description>&lt;div id=&#34;toc_container&#34; class=&#34;ml-l u-floatRight pure-u-1-1 pure-u-sm-2-5 toc_white no_bullets&#34;&gt;
  &lt;nav id=&#34;myaffix&#34;&gt;
  
  &lt;p class=&#34;toc-title&#34;&gt;
    目录
  &lt;/p&gt;
  
  &lt;ul class=&#34;toc-list nav&#34; role=&#34;menu&#34;&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;1&lt;/span&gt; 安装&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i-2&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;2&lt;/span&gt; 启用&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i-3&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;3&lt;/span&gt; 配置&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;&lt;/nav&gt;
&lt;/div&gt;

&lt;div class=&#34;&#34;&gt;
  &lt;p&gt;
    最近把博客从虚拟主机搬到 VPS 上，自然一番折腾。估计围绕这一过程，写三四篇博客不是梦。
  &lt;/p&gt;
  
  &lt;p&gt;
    这是第一篇，服务器端的压缩功能 &amp;#8211; 服务器在返回内容前先对内容做 gzip 压缩，以减小传输的文件大小 &amp;#8211; 照 &lt;a href=&#34;https://developers.google.com/speed/docs/insights/EnableCompression&#34;&gt;Google 的说法&lt;/a&gt;，能减小 90%，但这也不是重点，重点是服务器端不开启 gzip 压缩的话，Google PageSpeed 的测试就会&lt;a href=&#34;https://developers.google.com/speed/pagespeed/insights/?url=http://www.zfanw.com/blog/&amp;tab=desktop&#34;&gt;扣分&lt;/a&gt; &amp;#8211; 我个人特别在意这个分数。
  &lt;/p&gt;
  
  &lt;p&gt;
    Apache 下，压缩功能由 &lt;a href=&#34;http://httpd.apache.org/docs/2.4/mod/mod_deflate.html&#34;&gt;mod_deflate&lt;/a&gt; 模块控制。
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i&#34;&gt;安装&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi&#34; href=&#34;#i&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    我的 VPS 系统装的是 openSUSE 13.1 64 位系统，Apache 版本为 2.4。首先查看下系统中是否已经安装 &lt;em&gt;mod_deflate&lt;/em&gt;模块，我知道的有两种方法：
  &lt;/p&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      &lt;p&gt;
        当前用户下 执行命令 &lt;code&gt;httpd2 -M&lt;/code&gt;，输出的内容大致如下：
      &lt;/p&gt;
      
      &lt;pre&gt;&lt;code&gt;chenxsan@zfanw.com:~&amp;gt; httpd2 -M
[Fri Oct 31 13:13:59.278203 2014] [so:warn] [pid 9292] AH01574: module deflate_module is already loaded, skipping
Loaded Modules:
core_module (static)
access_compat_module (static)
so_module (static)
http_module (static)
mpm_prefork_module (static)
unixd_module (static)
systemd_module (static)
actions_module (shared)
alias_module (shared)
auth_basic_module (shared)
authn_file_module (shared)
authz_host_module (shared)
authz_groupfile_module (shared)
authz_user_module (shared)
autoindex_module (shared)
cgi_module (shared)
dir_module (shared)
env_module (shared)
expires_module (shared)
include_module (shared)
log_config_module (shared)
mime_module (shared)
negotiation_module (shared)
setenvif_module (shared)
ssl_module (shared)
userdir_module (shared)
reqtimeout_module (shared)
authn_core_module (shared)
authz_core_module (shared)
php5_module (shared)
rewrite_module (shared)
deflate_module (shared)
&lt;/code&gt;&lt;/pre&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        查看 &lt;em&gt;/etc/sysconfig/apache2&lt;/em&gt; 文件内容，可以直接打开文件，也可以使用 &lt;code&gt;grep&lt;/code&gt; 命令：
      &lt;/p&gt;
      
      &lt;pre&gt;&lt;code&gt;grep &#34;APACHE_MODULES=&#34; /etc/sysconfig/apache2
&lt;/code&gt;&lt;/pre&gt;
      
      &lt;p&gt;
        得出的结果大致如下：
      &lt;/p&gt;
      
      &lt;blockquote&gt;
        &lt;p&gt;
          APACHE_MODULES=&amp;#8221;actions alias auth_basic authn_file authz_host authz_groupfile authz_user autoindex cgi dir env expires include log_config mime negotiation setenvif ssl userdir reqtimeout authn_core authz_core mod-userdir php5 mod_rewrite mod_deflate deflate&amp;#8221;
        &lt;/p&gt;
      &lt;/blockquote&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
  
  &lt;p&gt;
    我这里显示的结果是已经安装加载了 &lt;em&gt;mod_deflate&lt;/em&gt; 模块。
  &lt;/p&gt;
  
  &lt;p&gt;
    假如没有，则使用 &lt;a href=&#34;http://man.he.net/man8/a2enmod&#34;&gt;&lt;code&gt;a2enmod&lt;/code&gt;&lt;/a&gt; 来启用：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;sudo a2enmod deflate
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    等等，为什么没说安装直接进入启用阶段？因为 &lt;em&gt;mod_deflate&lt;/em&gt; 模块在安装 Apache 时已经捎带装上，所以可以跳过安装这个步骤。
  &lt;/p&gt;
  
  &lt;p&gt;
    启用 &lt;em&gt;mod_deflate&lt;/em&gt; 模块后，需要&lt;a href=&#34;https://activedoc.opensuse.org/book/opensuse-reference/chapter-20-the-apache-http-server#sec.apache2.start_stop&#34;&gt;重启 Apache 服务器&lt;/a&gt;：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;sudo rcapache2 restart
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i-2&#34;&gt;启用&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi-2&#34; href=&#34;#i-2&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    如上所述。
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i-3&#34;&gt;配置&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi-3&#34; href=&#34;#i-3&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    启用 &lt;em&gt;mod_deflate&lt;/em&gt; 模块后，就可以开始配置了。
  &lt;/p&gt;
  
  &lt;p&gt;
    可以照 openSUSE 的&lt;a href=&#34;https://en.opensuse.org/SDB:Linux_Apache_MySQL_PHP#mod_deflate&#34;&gt;操作说明&lt;/a&gt;一步步来，也可以粗野直接点，修改 &lt;em&gt;/etc/apache2/httpd.conf&lt;/em&gt; 文件，在文件末加入如下代码：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;SetOutputFilter DEFLATE
SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ \
    no-gzip dont-vary
SetEnvIfNoCase Request_URI \
    \.(?:exe|t?gz|zip|bz2|sit|rar|7z)$ \
    no-gzip dont-vary
SetEnvIfNoCase Request_URI \.pdf$ no-gzip dont-vary

BrowserMatch ^Mozilla/4 gzip-only-text/html
BrowserMatch ^Mozilla/4\.0[678] no-gzip
BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    或者可以考虑 h5bp 提供的&lt;a href=&#34;https://github.com/h5bp/server-configs-apache/blob/master/src/web_performance/compression.conf&#34;&gt;配置&lt;/a&gt;。
  &lt;/p&gt;
  
  &lt;p&gt;
    然后重启 Apache：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;sudo rcapache2 restart
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    再跑一趟 PageSpeed，就不会再提服务器压缩的事 &amp;#8211; 恭喜，你已经压缩掉 90% 的传输文件大小，为用户节省大量带宽与时间。
  &lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>