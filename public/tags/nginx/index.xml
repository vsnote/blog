<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Nginx on 陈三</title>
    <link>https://www.zfanw.com/blog/tags/nginx/</link>
    <description>Recent content in Nginx on 陈三</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Tue, 22 Oct 2013 14:13:28 +0000</lastBuildDate>
    <atom:link href="https://www.zfanw.com/blog/tags/nginx/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>openSUSE 安装配置 NGINX</title>
      <link>https://www.zfanw.com/blog/nginx-config.html</link>
      <pubDate>Tue, 22 Oct 2013 14:13:28 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/nginx-config.html</guid>
      <description>&lt;div id=&#34;toc_container&#34; class=&#34;ml-l u-floatRight pure-u-1-1 pure-u-sm-2-5 toc_white no_bullets&#34;&gt;
  &lt;nav id=&#34;myaffix&#34;&gt;
  
  &lt;p class=&#34;toc-title&#34;&gt;
    目录
  &lt;/p&gt;
  
  &lt;ul class=&#34;toc-list nav&#34; role=&#34;menu&#34;&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;1&lt;/span&gt; 环境&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#_nginx&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;2&lt;/span&gt; 安装 nginx&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#_nginx-2&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;3&lt;/span&gt; 启动 nginx&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#_nginx-3&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;4&lt;/span&gt; 配置 nginx&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;&lt;/nav&gt;
&lt;/div&gt;

&lt;div class=&#34;&#34;&gt;
  &lt;p&gt;
    本来这篇是在 Ubuntu 下完成的，因为升级过程中出了点小差错，于是变成在 openSUSE 上完成。
  &lt;/p&gt;
  
  &lt;p&gt;
    我的配置 Web 服务器，只要最简单的，不需要数据库，不需要 PHP 等。
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i&#34;&gt;环境&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi&#34; href=&#34;#i&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;ol&gt;
    &lt;li&gt;
      &lt;p&gt;
        openSUSE 12.3
      &lt;/p&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        KDE
      &lt;/p&gt;
    &lt;/li&gt;
    
    &lt;li&gt;
      &lt;p&gt;
        Konsole + ZSH
      &lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;_nginx&#34;&gt;安装 nginx&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;hey_nginx&#34; href=&#34;#_nginx&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;pre&gt;&lt;code&gt;cnf nginx
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    &lt;code&gt;cnf&lt;/code&gt; 命令会自动查找 nginx 命令，如果系统上还没安装，它会提示你安装哪个包：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;sudo zypper install nginx
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;_nginx-2&#34;&gt;启动 nginx&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;hey_nginx-2&#34; href=&#34;#_nginx-2&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    再使用 &lt;code&gt;cnf nginx&lt;/code&gt; 检查的话，可以看到，nginx 可执行文件位于 &lt;code&gt;/usr/sbin/nginx&lt;/code&gt; 位置，需要 root 权限才可以运行。
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;sudo /usr/sbin/nginx
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    之后输入 root 密码。
  &lt;/p&gt;
  
  &lt;p&gt;
    打开 &lt;a href=&#34;http://localhost&#34;&gt;localhost&lt;/a&gt; 地址，页面显示：
  &lt;/p&gt;
  
  &lt;blockquote&gt;
    &lt;p&gt;
      &lt;strong&gt;403 Forbidden&lt;/strong&gt;
    &lt;/p&gt;
    
    &lt;p&gt;
      nginx/1.2.9
    &lt;/p&gt;
  &lt;/blockquote&gt;
  
  &lt;p&gt;
    之所以返回 403 错误，是因为 localhost 默认的根目录(/srv/www/htdocs/)下不存在 index.html 文件。
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;_nginx-3&#34;&gt;配置 nginx&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;hey_nginx-3&#34; href=&#34;#_nginx-3&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    如果尝试往 /srv/www/htdocs/ 目录下写入文件，就会发现，这个目录需要 root 权限才可以操作。我显然不想每次编辑 HTML/CSS/js 文件都需要加 sudo。
  &lt;/p&gt;
  
  &lt;p&gt;
    打开 /etc/nginx/ 目录，编辑目录下的 nginx.conf 配置文件：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;sudo vim nginx.conf
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    查找 /srv/www/htdocs 字样，将其修改为其他目录，比如 /home/sam/front/htdocs。
  &lt;/p&gt;
  
  &lt;p&gt;
    之后重启 nginx：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;sudo /usr/sbin/nginx -s reload
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    刷新 &lt;a href=&#34;http://localhost&#34;&gt;localhost&lt;/a&gt;，如果还是显示 403，则说明配置成功。之后把我的前端文件夹放在其中即可。
  &lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>