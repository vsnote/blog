<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Jquery Plugin on 陈三</title>
    <link>https://www.zfanw.com/blog/tags/jquery-plugin/</link>
    <description>Recent content in Jquery Plugin on 陈三</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Mon, 26 Aug 2013 13:16:02 +0000</lastBuildDate>
    <atom:link href="https://www.zfanw.com/blog/tags/jquery-plugin/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>jQuery 插件 – Tab(选项卡)</title>
      <link>https://www.zfanw.com/blog/jquery-plugin-tab.html</link>
      <pubDate>Mon, 26 Aug 2013 13:16:02 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/jquery-plugin-tab.html</guid>
      <description>&lt;div id=&#34;toc_container&#34; class=&#34;ml-l u-floatRight pure-u-1-1 pure-u-sm-2-5 toc_white no_bullets&#34;&gt;
  &lt;nav id=&#34;myaffix&#34;&gt;
  
  &lt;p class=&#34;toc-title&#34;&gt;
    目录
  &lt;/p&gt;
  
  &lt;ul class=&#34;toc-list nav&#34; role=&#34;menu&#34;&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;1&lt;/span&gt; 代码&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&#34;toc-list__item&#34; role=&#34;menuitem&#34;&gt;
      &lt;a href=&#34;#i-2&#34;&gt;&lt;span class=&#34;toc_number toc_depth_1&#34;&gt;2&lt;/span&gt; 效果&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;&lt;/nav&gt;
&lt;/div&gt;

&lt;div class=&#34;&#34;&gt;
  &lt;p&gt;
    我试过不少 jQuery 的 tab(选项卡) 插件，它们多数功能齐全，并且可自定义参数。但除非我去看它们的源代码，否则用起来总像黑盒子，一旦出问题，调试也觉得麻烦，所以干脆自己试手，写一个简单、适用自己项目的选项卡插件。
  &lt;/p&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i&#34;&gt;代码&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi&#34; href=&#34;#i&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;pre&gt;&lt;code&gt;/*===================================
    Module Name: tabview
    默认 hover 触发，可传入 click 事件
    Author: 陈三
    Blog: http:www.zfanw.com/blog/
    Time: 2013.8.6
    version: 1.0
    Dependency: jQuery
    ==================================*/
/*jQuery Plugin*/
//div.js-tabview
//    - ul.tab
//      + li.tab-item&amp;gt;a[data-target=&#34;first&#34;]
//      + li.tab-item&amp;gt;a[data-target=&#34;second&#34;]
//    - div#first
//    - div#second
;
(function ($) {
    function processing(e) {
    var li = $(this);
    li.siblings(&#39;.tab-item&#39;).removeClass(&#39;on&#39;);
    li.siblings(&#39;.tab-item&#39;).children(&#39;a&#39;).removeClass(&#39;selected&#39;);
    li.addClass(&#39;on&#39;);
    li.children(&#39;a&#39;).addClass(&#39;selected&#39;);
    var currentTab = li.children(&#39;a&#39;).attr(&#39;data-target&#39;);
    li.closest(&#39;.js-tabview&#39;).find(&#39;div[id]&#39;).addClass(&#39;is-hide&#39;); //加id是防止误伤其他 div
    $(currentTab).removeClass(&#39;is-hide&#39;);
    e.preventDefault();
    }
    $.fn.tabview = function (options) {
    var settings = $.extend({
        trigger: &#34;hover&#34;
    }, options);
    return this.each(function () {
        var el = $(this).find(&#39;.tab&#39;).children(&#39;.tab-item&#39;).filter(function () {
            return !!$(this).children(&#39;a&#39;).attr(&#39;data-target&#39;);
        });
        if (settings.trigger === &#34;hover&#34;) {
            el.hover(processing);
        }
        if (settings.trigger === &#34;click&#34;) {
            el.click(processing);
        }
    });

    };
}(jQuery));
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    HTML代码结构如下：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;&amp;lt;div class=&#34;js-tabview&#34;&amp;gt;
    &amp;lt;ul class=&#34;tab&#34;&amp;gt;
        &amp;lt;li class=&#34;on tab-item&#34;&amp;gt;&amp;lt;a data-target=&#34;#tab1&#34; href=&#34;&#34; class=&#34;selected&#34;&amp;gt;选项卡一&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li class=&#34;tab-item&#34;&amp;gt;&amp;lt;a data-target=&#34;#tab2&#34; href=&#34;&#34;&amp;gt;选项卡二&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li class=&#34;tab-item&#34;&amp;gt;&amp;lt;a data-target=&#34;#tab3&#34; href=&#34;&#34;&amp;gt;选项卡三&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;/ul&amp;gt;
    &amp;lt;div id=&#34;tab1&#34; class=&#34;&#34;&amp;gt;选项卡一对应的内容块&amp;lt;/div&amp;gt;
    &amp;lt;div id=&#34;tab2&#34; class=&#34;is-hide&#34;&amp;gt;选项卡二对应的内容块&amp;lt;/div&amp;gt;
    &amp;lt;div id=&#34;tab3&#34; class=&#34;is-hide&#34;&amp;gt;选项卡三对应的内容块&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    CSS 如下：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;.is-hide{display:none;}
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;p&gt;
    之所以添加 &lt;code&gt;.is-hide&lt;/code&gt;，是为了防止 fouc(&lt;a href=&#34;http://en.wikipedia.org/wiki/Flash_of_unstyled_content&#34;&gt;flash of unstyled content&lt;/a&gt;)，本来 js 中即可完成隐藏元素的结果。
  &lt;/p&gt;
  
  &lt;p&gt;
    在页面中引入 jquery 与 tabview 插件后，JavaScript 部分书写如下：
  &lt;/p&gt;
  
  &lt;pre&gt;&lt;code&gt;$(function(){$(&#39;.js-tabview&#39;).tabview();});
&lt;/code&gt;&lt;/pre&gt;
  
  &lt;h2 class=&#34;storycontent-h2&#34;&gt;
    &lt;span id=&#34;i-2&#34;&gt;效果&lt;/span&gt;&lt;a title=&#34;标题链接地址&#34; class=&#34;u-floatRight hidden&#34; id=&#34;heyi-2&#34; href=&#34;#i-2&#34;&gt;&lt;span class=&#34;&#34; aria-hidden=&#34;true&#34;&gt;#&lt;/span&gt;&lt;/a&gt;
  &lt;/h2&gt;
  
  &lt;p&gt;
    如下：
  &lt;/p&gt;
  
  &lt;div class=&#34;js-tabview&#34;&gt;
    &lt;ul class=&#34;list-unstyled list-inline&#34;&gt;
      &lt;li class=&#34;on&#34;&gt;
        &lt;a href=&#34;http://www.zfanw.com/blog/&#34; data-target=&#34;#tab1&#34; class=&#34;selected&#34;&gt;选项卡一&lt;/a&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;a href=&#34;&#34; data-target=&#34;#tab2&#34;&gt;选项卡二&lt;/a&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;a href=&#34;&#34; data-target=&#34;#tab3&#34;&gt;选项卡三&lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
    
    &lt;div id=&#34;tab1&#34; class=&#34;&#34; style=&#34;background:red;&#34;&gt;
      选项卡一对应的内容块
    &lt;/div&gt;
    

&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&amp;quot;tab2&amp;quot; class=&amp;quot;is-hide&amp;quot; style=&amp;quot;background:green;&amp;quot;&amp;gt;
  选项卡二对应的内容块
&amp;lt;/div&amp;gt;

&amp;lt;div id=&amp;quot;tab3&amp;quot; class=&amp;quot;is-hide&amp;quot; style=&amp;quot;background:orange;&amp;quot;&amp;gt;
  选项卡三对应的内容块
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;p&gt;
  &lt;/p&gt;&lt;/p&gt;

&lt;p&gt;&lt;p&gt;
    插件默认鼠标浮过(hover)触发，也可以传入参数 &amp;#8216;click&amp;#8217; 触发：
  &lt;/p&gt;&lt;/p&gt;

&lt;p&gt;&lt;pre&gt;&lt;code&gt;    $(&amp;lsquo;.js-tabview&amp;rsquo;).tabview({trigger:&amp;lsquo;click&amp;rsquo;});
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>jQuery 插件 – 显示/隐藏输入框提示</title>
      <link>https://www.zfanw.com/blog/input-hint-focus-blur.html</link>
      <pubDate>Thu, 08 Aug 2013 13:09:18 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/input-hint-focus-blur.html</guid>
      <description>&lt;p&gt;目前，浏览器对 &lt;a href=&#34;http://www.w3.org/html/wg/drafts/html/master/forms.html#the-placeholder-attribute&#34;&gt;&lt;code&gt;placeholder&lt;/code&gt;&lt;/a&gt; 支持还不普遍，所以输入框中要设置提示信息时，多数还是通过 JavaScript 方法，给 &lt;code&gt;focus&lt;/code&gt;、&lt;code&gt;blur&lt;/code&gt; 绑定事件。&lt;/p&gt;

&lt;p&gt;我见过很多人是这样写的：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;input type=&amp;quot;text&amp;quot; onblur=&amp;quot;if(this.value==&#39;&#39;){this.value=&#39;请输入搜索信息...&#39;;}&amp;quot; onfocus=&amp;quot;if(this.value==&#39;请输入搜索信息...&#39;){this.value=&#39;&#39;;}&amp;quot; value=&amp;quot;请输入搜索信息...&amp;quot; name=&amp;quot;q&amp;quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;页面中需要设置提示信息的地方经常不止一个，如果每个都这样写，就会重复许多代码，并且容易出错。&lt;/p&gt;

&lt;p&gt;以下是我写的一个简单 jQuery 插件，用于输入框中提示信息的显示/隐藏：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/*===================================
Module Name: hint
聚焦时提示消息隐藏；
blur 时显示隐藏信息;
Author: 陈三
Blog: http:www.zfanw.com/blog/
Time: 2013.7.26
version: 1.0
Dependency: jQuery
==================================*/

;(function ($) {
$.fn.hint = function () {
    this.each(function () {
        var el, old_txt;
        el = $(this);
        old_txt = el.val();
        el.on(&#39;focus&#39;, function () { //聚焦函数
            if (el.val() === old_txt) {
                el.val(&#39;&#39;);
            }
            el.css(&#39;color&#39;,&#39;#000&#39;);//聚焦时设置文字颜色为黑
        });
        el.on(&#39;blur&#39;, function () { //blur 函数
            if (el.val() === &#39;&#39;) {
                el.val(old_txt);
                el.css(&#39;color&#39;,&#39;&#39;);//blur时颜色恢复原有
            }
        });
    });
return this;
};
}(jQuery));
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;在页面引入上述 jQuery 插件后，给每个要设置提示信息的元素添加 CSS 类，比如 &lt;code&gt;.js-hint&lt;/code&gt;，&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;input class=&amp;quot;js-hint&amp;quot; value=&amp;quot;请输入提示信息&amp;quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;input class=&#34;js-hint&#34; value=&#34;请输入提示信息&#34; /&gt;&lt;/p&gt;

&lt;p&gt;然后执行上述函数即可：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$(function(){$(&#39;.js-hint&#39;).hint();});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;随后要添加任何近似的元素均可，只要给元素添加 CSS 类 &lt;code&gt;.js-hint&lt;/code&gt;：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;textarea class=&amp;quot;js-hint&amp;quot;&amp;gt;请在这里输入文字...&amp;lt;/textarea&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;textarea class=&#34;js-hint&#34;&gt;请在这里输入文字&amp;#8230;&lt;/textarea&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>