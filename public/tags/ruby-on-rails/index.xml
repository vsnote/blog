<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Ruby On Rails on 陈三</title>
    <link>https://www.zfanw.com/blog/tags/ruby-on-rails/</link>
    <description>Recent content in Ruby On Rails on 陈三</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Mon, 17 Nov 2014 05:33:25 +0000</lastBuildDate>
    <atom:link href="https://www.zfanw.com/blog/tags/ruby-on-rails/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>rails server 错误</title>
      <link>https://www.zfanw.com/blog/rails-server-fail.html</link>
      <pubDate>Mon, 17 Nov 2014 05:33:25 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/rails-server-fail.html</guid>
      <description>

&lt;p&gt;在我安装好 Ruby on Rails 后，使用 &lt;code&gt;rails new&lt;/code&gt; 命令新建一个项目，然后切换到项目下执行 &lt;code&gt;rails server&lt;/code&gt;，出现如下错误：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sam@linux-qo4p:~/front/ror|master⚡⇒  rails server
Ignoring RedCloth-4.2.9 because its extensions are not built.  Try: gem pristine RedCloth-4.2.9
Ignoring posix-spawn-0.3.9 because its extensions are not built.  Try: gem pristine posix-spawn-0.3.9
Ignoring rdiscount-2.1.7.1 because its extensions are not built.  Try: gem pristine rdiscount-2.1.7.1
/usr/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:54:in `require&#39;: cannot load such file -- bundler/setup (LoadError)
        from /usr/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:54:in `require&#39;
        from /home/sam/front/ror/config/boot.rb:4:in `&amp;lt;top (required)&amp;gt;&#39;
        from bin/rails:3:in `require_relative&#39;
        from bin/rails:3:in `&amp;lt;main&amp;gt;&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;这似乎是我把 openSUSE 系统从 13.1 升级到 13.2 后才出现的错误。&lt;/p&gt;

&lt;p&gt;我的情况里，尝试错误信息中的提示方法 &lt;code&gt;gem pristine RedCloth&lt;/code&gt; 并不能消除以上错误。&lt;/p&gt;

&lt;p&gt;最后的解决办法是：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;gem pristine --all&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;切换到项目根目录，&lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;再次跑 &lt;code&gt;rails server&lt;/code&gt;，可以正常启动不报错。此后，&lt;code&gt;rails new&lt;/code&gt; 新建的项目也不再报错。&lt;/p&gt;

&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://jeremy.wordpress.com/2014/03/14/how-to-rebuild-native-ruby-gems-after-a-libsystem-upgrade/&#34;&gt;How to rebuild native Ruby gems after a lib/system upgrade? | Jérémy Lecour&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ERROR: Failed to build gem native extension</title>
      <link>https://www.zfanw.com/blog/error-failed-to-build-gem-native-extension.html</link>
      <pubDate>Mon, 25 Nov 2013 22:05:44 +0000</pubDate>
      
      <guid>https://www.zfanw.com/blog/error-failed-to-build-gem-native-extension.html</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://rubyonrails.org/download&#34;&gt;Ruby on Rails&lt;/a&gt; 网站上说，安装好 Ruby 后运行 &lt;code&gt;gem install rails&lt;/code&gt; 就好了。&lt;/p&gt;

&lt;p&gt;但整个过程折腾了我好几个小时。首先，openSUSE 13.1 自带有 Ruby 2.0.0p-247，我因为打算用 rbenv 管理 Ruby，就草率地把 Ruby 卸载：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo zypper rm ruby
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;结果 Konsole 没了，YAST 没了，似乎连着 KDE 桌面都被卸掉。&lt;/p&gt;

&lt;p&gt;那么就先将就用系统自带的吧。但 &lt;code&gt;gem install rails&lt;/code&gt; 报错了：&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Building native extensions. This could take a while&amp;#8230;&lt;/p&gt;

&lt;p&gt;ERROR: Error installing rails:&lt;/p&gt;

&lt;p&gt;ERROR: Failed to build gem native extension.&lt;/p&gt;

&lt;p&gt;/usr/bin/ruby2.0 extconf.rb&lt;/p&gt;

&lt;p&gt;mkmf.rb can&amp;#8217;t find header files for ruby at /usr/lib/ruby/include/ruby.h&lt;/p&gt;

&lt;p&gt;Gem files will remain installed in /usr/lib/ruby/gems/2.0.0/gems/atomic-1.1.14 for inspection.&lt;/p&gt;

&lt;p&gt;Results logged to /usr/lib/ruby/gems/2.0.0/gems/atomic-1.1.14/ext/gem_make.out&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;code&gt;gem install compass&lt;/code&gt; 却是没有任何问题。&lt;/p&gt;

&lt;p&gt;网上的资料说要安装 ruby-devel：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo zypper in ruby-devel
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;再次安装 Rails，如你所见，从我开始写这篇到现在，还在安装中。但后来总算安装完成。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>