<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.16" />


<title>jQuery 插件 – 显示/隐藏输入框提示 - 陈三</title>
<meta property="og:title" content="jQuery 插件 – 显示/隐藏输入框提示 - 陈三">



  






<link rel="stylesheet" href="https://www.zfanw.com/blog/css/main.css" media="all">

  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="https://www.zfanw.com/blog/" class="nav-logo">陈三</a>

  <ul class="nav-links">
    
    <li><a href="/blog/">Home</a></li>
    
    <li><a href="/blog/about/">关于</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">1 min read</span>
    

    <h1 class="article-title">jQuery 插件 – 显示/隐藏输入框提示</h1>

    
    <span class="article-date">August 8, 2013</span>
    

    <div class="article-content">
      <p>目前，浏览器对 <a href="http://www.w3.org/html/wg/drafts/html/master/forms.html#the-placeholder-attribute"><code>placeholder</code></a> 支持还不普遍，所以输入框中要设置提示信息时，多数还是通过 JavaScript 方法，给 <code>focus</code>、<code>blur</code> 绑定事件。</p>

<p>我见过很多人是这样写的：</p>

<pre><code>&lt;input type=&quot;text&quot; onblur=&quot;if(this.value==''){this.value='请输入搜索信息...';}&quot; onfocus=&quot;if(this.value=='请输入搜索信息...'){this.value='';}&quot; value=&quot;请输入搜索信息...&quot; name=&quot;q&quot;&gt;
</code></pre>

<p>页面中需要设置提示信息的地方经常不止一个，如果每个都这样写，就会重复许多代码，并且容易出错。</p>

<p>以下是我写的一个简单 jQuery 插件，用于输入框中提示信息的显示/隐藏：</p>

<pre><code>/*===================================
Module Name: hint
聚焦时提示消息隐藏；
blur 时显示隐藏信息;
Author: 陈三
Blog: http:www.zfanw.com/blog/
Time: 2013.7.26
version: 1.0
Dependency: jQuery
==================================*/

;(function ($) {
$.fn.hint = function () {
    this.each(function () {
        var el, old_txt;
        el = $(this);
        old_txt = el.val();
        el.on('focus', function () { //聚焦函数
            if (el.val() === old_txt) {
                el.val('');
            }
            el.css('color','#000');//聚焦时设置文字颜色为黑
        });
        el.on('blur', function () { //blur 函数
            if (el.val() === '') {
                el.val(old_txt);
                el.css('color','');//blur时颜色恢复原有
            }
        });
    });
return this;
};
}(jQuery));
</code></pre>

<p>在页面引入上述 jQuery 插件后，给每个要设置提示信息的元素添加 CSS 类，比如 <code>.js-hint</code>，</p>

<pre><code>&lt;input class=&quot;js-hint&quot; value=&quot;请输入提示信息&quot;&gt;
</code></pre>

<p><input class="js-hint" value="请输入提示信息" /></p>

<p>然后执行上述函数即可：</p>

<pre><code>$(function(){$('.js-hint').hint();});
</code></pre>

<p>随后要添加任何近似的元素均可，只要给元素添加 CSS 类 <code>.js-hint</code>：</p>

<pre><code>&lt;textarea class=&quot;js-hint&quot;&gt;请在这里输入文字...&lt;/textarea&gt;
</code></pre>

<p><textarea class="js-hint">请在这里输入文字&#8230;</textarea></p>

    </div>
  </article>

  

</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="https://www.zfanw.com/blog/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with Hugo</a>
          </li>
        </ul>
      </footer>

    </div>

    
  </body>
</html>

