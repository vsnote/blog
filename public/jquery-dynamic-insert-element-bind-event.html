<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.16" />


<title>jQuery 给动态插入的元素绑定事件 - 陈三</title>
<meta property="og:title" content="jQuery 给动态插入的元素绑定事件 - 陈三">



  






<link rel="stylesheet" href="https://www.zfanw.com/blog/css/main.css" media="all">

  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="https://www.zfanw.com/blog/" class="nav-logo">陈三</a>

  <ul class="nav-links">
    
    <li><a href="/blog/">Home</a></li>
    
    <li><a href="/blog/about/">关于</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">1 min read</span>
    

    <h1 class="article-title">jQuery 给动态插入的元素绑定事件</h1>

    
    <span class="article-date">January 1, 2013</span>
    

    <div class="article-content">
      

<p>这个误会可能有点深。</p>

<p>一般情况下，给 HTML 元素绑定事件方法如下：</p>

<pre><code>$('#sam').hover(
    function(){
        alert(&quot;hey it's sam.&quot;);
    }
);
</code></pre>

<p>附：<a href="http://jsfiddle.net/chenxsan/xtS8R/">jsfiddle</a></p>

<p>这样当鼠标移动到文本上时，浏览器会弹出一个对话框。</p>

<p>但是，以上绑定的方法只能适用页面内已有的元素，如果 ID 为 sam 的 DIV 块是动态生成的，比如利用 <code>$().append()</code> 方法，则上面的绑定方法不会有结果。</p>

<p>必须把它绑定给 document 元素，并指向目标元素：</p>

<pre><code>$(document).on('mouseenter','#sam',function(){
    alert(&quot;hey it's sam.&quot;);
    });
</code></pre>

<p>这样，才能达到我们预期的效果。</p>

<p>另一个办法是使用 jQuery 提供的 delegate API &#8211; 这其实跟上述方法是同样的道理，将事件委托给父元素，然后由父元素绑定给子元素，</p>

<blockquote>
<p>$(&#8220;table&#8221;).delegate(&#8220;td&#8221;, &#8220;click&#8221;, function() { $(this).toggleClass(&#8220;chosen&#8221;); });</p>
</blockquote>

<p>这样的好处是，我们不必要给每个子元素都注册事件，那样非常浪费，而且对动态插入的子元素也有效果。</p>

<p>又或者，在动态插入时就进行绑定。但这种办法并不优雅。</p>

<h2 id="参考">参考</h2>

<ol>
<li><a href="http://api.jquery.com/hover/">api hover</a></li>
<li><a href="http://api.jquery.com/on/">.on() | jQuery API Documentation</a></li>
<li><a href="http://api.jquery.com/delegate/">.delegate()</a></li>
</ol>

    </div>
  </article>

  

</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="https://www.zfanw.com/blog/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with Hugo</a>
          </li>
        </ul>
      </footer>

    </div>

    
  </body>
</html>

